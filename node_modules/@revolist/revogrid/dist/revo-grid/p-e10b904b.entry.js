import{g as t,f as e,r as n,h as r,c as i,e as o,H as u}from"./p-cfbc6ce5.js";var a=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n},s=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),u=o.length;u--;){var a=o[++r];if(!1===e(i[a],a,i))break}return t},c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(t,e,n){return t(n={path:e,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}var f="object"==typeof c&&c&&c.Object===Object&&c,v="object"==typeof self&&self&&self.Object===Object&&self,h=f||v||Function("return this")(),d=h.Symbol,b=Object.prototype,p=b.hasOwnProperty,y=b.toString,m=d?d.toStringTag:void 0,g=Object.prototype.toString,w=d?d.toStringTag:void 0,j=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":w&&w in Object(t)?function(t){var e=p.call(t,m),n=t[m];try{t[m]=void 0;var r=!0}catch(o){}var i=y.call(t);return r&&(e?t[m]=n:delete t[m]),i}(t):function(t){return g.call(t)}(t)},O=function(t){return null!=t&&"object"==typeof t},S=function(t){return O(t)&&"[object Arguments]"==j(t)},x=Object.prototype,M=x.hasOwnProperty,k=x.propertyIsEnumerable,_=S(function(){return arguments}())?S:function(t){return O(t)&&M.call(t,"callee")&&!k.call(t,"callee")},z=Array.isArray,E=function(){return!1},C=l((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?h.Buffer:void 0;t.exports=(i?i.isBuffer:void 0)||E})),T=/^(?:0|[1-9]\d*)$/,P=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&T.test(t))&&t>-1&&t%1==0&&t<e},W=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object Boolean]"]=I["[object DataView]"]=I["[object Date]"]=I["[object Error]"]=I["[object Function]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object WeakMap]"]=!1;var D,R=l((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&f.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o})),A=R&&R.isTypedArray,F=A?(D=A,function(t){return D(t)}):function(t){return O(t)&&W(t.length)&&!!I[j(t)]},$=Object.prototype.hasOwnProperty,V=function(t,e){var n=z(t),r=!n&&_(t),i=!n&&!r&&C(t),o=!n&&!r&&!i&&F(t),u=n||r||i||o,a=u?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=a.length;for(var c in t)!e&&!$.call(t,c)||u&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||P(c,s))||a.push(c);return a},L=Object.prototype,X=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),Y=Object.prototype.hasOwnProperty,N=function(t){if((e=t)!==("function"==typeof(n=e&&e.constructor)&&n.prototype||L))return X(t);var e,n,r=[];for(var i in Object(t))Y.call(t,i)&&"constructor"!=i&&r.push(i);return r},U=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},H=function(t){if(!U(t))return!1;var e=j(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},G=function(t){return null!=t&&W(t.length)&&!H(t)},B=function(t){return G(t)?V(t):N(t)},q=function(t,e){if(null==t)return t;if(!G(t))return function(t,e){return t&&s(t,e,B)}(t,e);for(var n=t.length,r=-1,i=Object(t);++r<n&&!1!==e(i[r],r,i););return t},K=function(t,e){return t===e||t!=t&&e!=e},J=function(t,e){for(var n=t.length;n--;)if(K(t[n][0],e))return n;return-1},Q=Array.prototype.splice;function Z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Z.prototype.clear=function(){this.__data__=[],this.size=0},Z.prototype.delete=function(t){var e=this.__data__,n=J(e,t);return!(n<0||(n==e.length-1?e.pop():Q.call(e,n,1),--this.size,0))},Z.prototype.get=function(t){var e=this.__data__,n=J(e,t);return n<0?void 0:e[n][1]},Z.prototype.has=function(t){return J(this.__data__,t)>-1},Z.prototype.set=function(t,e){var n=this.__data__,r=J(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var tt,et=Z,nt=h["__core-js_shared__"],rt=(tt=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||""))?"Symbol(src)_1."+tt:"",it=Function.prototype.toString,ot=function(t){if(null!=t){try{return it.call(t)}catch(e){}try{return t+""}catch(e){}}return""},ut=/^\[object .+?Constructor\]$/,at=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),st=function(t){return!(!U(t)||function(t){return!!rt&&rt in t}(t))&&(H(t)?at:ut).test(ot(t))},ct=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return st(n)?n:void 0},lt=ct(h,"Map"),ft=ct(Object,"create"),vt=Object.prototype.hasOwnProperty,ht=Object.prototype.hasOwnProperty;function dt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dt.prototype.clear=function(){this.__data__=ft?ft(null):{},this.size=0},dt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},dt.prototype.get=function(t){var e=this.__data__;if(ft){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return vt.call(e,t)?e[t]:void 0},dt.prototype.has=function(t){var e=this.__data__;return ft?void 0!==e[t]:ht.call(e,t)},dt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ft&&void 0===e?"__lodash_hash_undefined__":e,this};var bt=dt,pt=function(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map};function yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yt.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(lt||et),string:new bt}},yt.prototype.delete=function(t){var e=pt(this,t).delete(t);return this.size-=e?1:0,e},yt.prototype.get=function(t){return pt(this,t).get(t)},yt.prototype.has=function(t){return pt(this,t).has(t)},yt.prototype.set=function(t,e){var n=pt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var mt=yt;function gt(t){var e=this.__data__=new et(t);this.size=e.size}gt.prototype.clear=function(){this.__data__=new et,this.size=0},gt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},gt.prototype.get=function(t){return this.__data__.get(t)},gt.prototype.has=function(t){return this.__data__.has(t)},gt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof et){var r=n.__data__;if(!lt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(r)}return n.set(t,e),this.size=n.size,this};var wt=gt;function jt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}jt.prototype.add=jt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},jt.prototype.has=function(t){return this.__data__.has(t)};var Ot=jt,St=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},xt=function(t,e,n,r,i,o){var u=1&n,a=t.length,s=e.length;if(a!=s&&!(u&&s>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,v=2&n?new Ot:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var h=t[l],d=e[l];if(r)var b=u?r(d,h,l,e,t,o):r(h,d,l,t,e,o);if(void 0!==b){if(b)continue;f=!1;break}if(v){if(!St(e,(function(t,e){if(!v.has(e)&&(h===t||i(h,t,n,r,o)))return v.push(e)}))){f=!1;break}}else if(h!==d&&!i(h,d,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f},Mt=h.Uint8Array,kt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},_t=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},zt=d?d.prototype:void 0,Et=zt?zt.valueOf:void 0,Ct=Object.prototype.propertyIsEnumerable,Tt=Object.getOwnPropertySymbols,Pt=Tt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[i++]=u)}return o}(Tt(t),(function(e){return Ct.call(t,e)})))}:function(){return[]},Wt=function(t){return function(t,e,n){var r=e(t);return z(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,B,Pt)},It=Object.prototype.hasOwnProperty,Dt=ct(h,"DataView"),Rt=ct(h,"Promise"),At=ct(h,"Set"),Ft=ct(h,"WeakMap"),$t=ot(Dt),Vt=ot(lt),Lt=ot(Rt),Xt=ot(At),Yt=ot(Ft),Nt=j;(Dt&&"[object DataView]"!=Nt(new Dt(new ArrayBuffer(1)))||lt&&"[object Map]"!=Nt(new lt)||Rt&&"[object Promise]"!=Nt(Rt.resolve())||At&&"[object Set]"!=Nt(new At)||Ft&&"[object WeakMap]"!=Nt(new Ft))&&(Nt=function(t){var e=j(t),n="[object Object]"==e?t.constructor:void 0,r=n?ot(n):"";if(r)switch(r){case $t:return"[object DataView]";case Vt:return"[object Map]";case Lt:return"[object Promise]";case Xt:return"[object Set]";case Yt:return"[object WeakMap]"}return e});var Ut=Nt,Ht=Object.prototype.hasOwnProperty,Gt=function(t,e,n,r,i,o){var u=z(t),a=z(e),s=u?"[object Array]":Ut(t),c=a?"[object Array]":Ut(e),l="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),v=s==c;if(v&&C(t)){if(!C(e))return!1;u=!0,l=!1}if(v&&!l)return o||(o=new wt),u||F(t)?xt(t,e,n,r,i,o):function(t,e,n,r,i,o,u){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Mt(t),new Mt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return K(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=kt;case"[object Set]":if(a||(a=_t),t.size!=e.size&&!(1&r))return!1;var s=u.get(t);if(s)return s==e;r|=2,u.set(t,e);var c=xt(a(t),a(e),r,i,o,u);return u.delete(t),c;case"[object Symbol]":if(Et)return Et.call(t)==Et.call(e)}return!1}(t,e,s,n,r,i,o);if(!(1&n)){var h=l&&Ht.call(t,"__wrapped__"),d=f&&Ht.call(e,"__wrapped__");if(h||d){var b=h?t.value():t,p=d?e.value():e;return o||(o=new wt),i(b,p,n,r,o)}}return!!v&&(o||(o=new wt),function(t,e,n,r,i,o){var u=1&n,a=Wt(t),s=a.length;if(s!=Wt(e).length&&!u)return!1;for(var c=s;c--;){var l=a[c];if(!(u?l in e:It.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var v=!0;o.set(t,e),o.set(e,t);for(var h=u;++c<s;){var d=t[l=a[c]],b=e[l];if(r)var p=u?r(b,d,l,e,t,o):r(d,b,l,t,e,o);if(!(void 0===p?d===b||i(d,b,n,r,o):p)){v=!1;break}h||(h="constructor"==l)}if(v&&!h){var y=t.constructor,m=e.constructor;y==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(v=!1)}return o.delete(t),o.delete(e),v}(t,e,n,r,i,o))},Bt=function t(e,n,r,i,o){return e===n||(null==e||null==n||!O(e)&&!O(n)?e!=e&&n!=n:Gt(e,n,r,i,t,o))},qt=function(t){return t==t&&!U(t)},Kt=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},Jt=function(t){var e=function(t){for(var e=B(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,qt(i)]}return e}(t);return 1==e.length&&e[0][2]?Kt(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var s=(a=n[i])[0],c=t[s],l=a[1];if(u&&a[2]){if(void 0===c&&!(s in t))return!1}else{var f=new wt;if(r)var v=r(c,l,s,t,e,f);if(!(void 0===v?Bt(l,c,3,r,f):v))return!1}}return!0}(n,t,e)}},Qt=function(t){return"symbol"==typeof t||O(t)&&"[object Symbol]"==j(t)},Zt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ee=function(t,e){if(z(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Qt(t))||te.test(t)||!Zt.test(t)||null!=e&&t in Object(e)};function ne(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(ne.Cache||mt),n}ne.Cache=mt;var re,ie,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ue=/\\(\\)?/g,ae=(re=ne((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(oe,(function(t,n,r,i){e.push(r?i.replace(ue,"$1"):n||t)})),e}),(function(t){return 500===ie.size&&ie.clear(),t})),ie=re.cache,re),se=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},ce=d?d.prototype:void 0,le=ce?ce.toString:void 0,fe=function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(z(e))return se(e,t)+"";if(Qt(e))return le?le.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}(t)},ve=function(t,e){return z(t)?t:ee(t,e)?[t]:ae(fe(t))},he=function(t){if("string"==typeof t||Qt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},de=function(t,e){for(var n=0,r=(e=ve(e,t)).length;null!=t&&n<r;)t=t[he(e[n++])];return n&&n==r?t:void 0},be=function(t,e){return null!=t&&e in Object(t)},pe=function(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=ve(e,t)).length,o=!1;++r<i;){var u=he(e[r]);if(!(o=null!=t&&n(t,u)))break;t=t[u]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&W(i)&&P(u,i)&&(z(t)||_(t))}(t,e,be)},ye=function(t,e){return ee(t)&&qt(e)?Kt(he(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:de(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?pe(n,t):Bt(e,r,3)}},me=function(t){return t},ge=function(t){return ee(t)?(e=he(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return de(e,t)}}(t);var e},we=function(t){return"function"==typeof t?t:null==t?me:"object"==typeof t?z(t)?ye(t[0],t[1]):Jt(t):ge(t)},je=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n},Oe=function(t,e,n){var r=z(t)?a:je,i=arguments.length<3;return r(t,we(e),n,i,q)};var Se=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},xe=function(t,e){return(z(t)?Se:q)(t,"function"==typeof(n=e)?n:me);var n},Me=function(t,e){var n=-1,r=G(t)?Array(t.length):[];return q(t,(function(t,i,o){r[++n]=e(t,i,o)})),r},ke=function(t,e){return(z(t)?se:Me)(t,we(e))};const _e=t=>!("isConnected"in t)||t.isConnected,ze=(()=>{let t;return(...e)=>{t&&clearTimeout(t),t=setTimeout(()=>{t=0,(t=>{for(let e of t.keys())t.set(e,t.get(e).filter(_e))})(...e)},2e3)}})(),Ee=(n,r)=>{const i=((t,e=((t,e)=>t!==e))=>{let n=new Map(Object.entries(null!=t?t:{}));const r={dispose:[],get:[],set:[],reset:[]},i=()=>{n=new Map(Object.entries(null!=t?t:{})),r.reset.forEach(t=>t())},o=t=>(r.get.forEach(e=>e(t)),n.get(t)),u=(t,i)=>{const o=n.get(t);e(i,o,t)&&(n.set(t,i),r.set.forEach(e=>e(t,i,o)))},a="undefined"==typeof Proxy?{}:new Proxy(t,{get:(t,e)=>o(e),ownKeys:()=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,e)=>n.has(e),set:(t,e,n)=>(u(e,n),!0)}),s=(t,e)=>(r[t].push(e),()=>{((t,e)=>{const n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],t.length--)})(r[t],e)});return{state:a,get:o,set:u,on:s,onChange:(e,n)=>{const r=s("set",(t,r)=>{t===e&&n(r)}),i=s("reset",()=>n(t[e]));return()=>{r(),i()}},use:(...t)=>t.forEach(t=>{t.set&&s("set",t.set),t.get&&s("get",t.get),t.reset&&s("reset",t.reset)}),dispose:()=>{r.dispose.forEach(t=>t()),i()},reset:i}})(n,r);return(({on:n})=>{const r=new Map;"function"==typeof t&&(n("dispose",()=>{r.clear()}),n("get",e=>{const n=t();n&&((t,e,n)=>{const r=t.get(e);r?r.includes(n)||r.push(n):t.set(e,[n])})(r,e,n)}),n("set",t=>{const n=r.get(t);n&&r.set(t,n.filter(e)),ze(r)}),n("reset",()=>{r.forEach(t=>t.forEach(e)),ze(r)}))})(i),i};function Ce(t,e){xe(e,(e,n)=>{t.set(n,e)})}class Te{constructor(){this.dataStore=Ee({items:[],groupingDepth:0,groups:{}})}get store(){return this.dataStore}updateData(t,e){const n={items:t};e&&(n.groupingDepth=e.depth,n.groups=e.groups),Ce(this.store,n)}}const Pe=["row","rowPinStart","rowPinEnd"],We=["col","colPinStart","colPinEnd"];class Ie{constructor(t){this.dimensionProvider=t,this.dataSources=Oe(We,(t,e)=>(t[e]=new Te,t),{})}get stores(){return this.dataSources}column(t,e){return this.getColumn(t,e||"col")}getColumn(t,e){return this.dataSources[e].store.get("items")[t]}setColumns(t){const e=Ie.getColumns(t);xe(We,t=>{this.dataSources[t].updateData(e.columns[t],{depth:e.maxLevel,groups:Oe(e.columnGrouping[t],(t,e)=>(t[e.level]||(t[e.level]=[]),t[e.level].push({name:e.name,ids:e.props}),t),{})})}),this.dimensionProvider.setDimensionSize("col",e.columns.sizes),this.dimensionProvider.setRealSize(e.columns.col,"col");for(let n of["colPinStart","colPinEnd"])this.dimensionProvider.setPins(e.columns[n],n,Ie.getPinSizes(e.columns[n]))}static getPinSizes(t){return Oe(t,(t,e,n)=>(e.size&&(t[n]=e.size),t),{})}static isColGrouping(t){return!!t.children}static getColumns(t,e=0){return Oe(t,(t,n)=>{if(Ie.isColGrouping(n)){const r=Ie.getColumns(n.children,e+1),i={name:n.name,level:e,props:[]};for(let e in r.columns){const n=e,o=t.columns[n],u=r.columns[n];z(o)&&z(u)?(o.push(...u),"sizes"!==n&&u.length&&t.columnGrouping[n].push(Object.assign(Object.assign({},i),{props:ke(u,"prop")}))):t.columns[n]=Object.assign(Object.assign({},o),u)}for(let e in r.columnGrouping)t.columnGrouping[e].push(...r.columnGrouping[e]);t.maxLevel=Math.max(t.maxLevel,r.maxLevel)}else n.pin?t.columns[n.pin].push(n):(t.columns.col.push(n),n.size&&(t.columns.sizes[t.columns.col.length-1]=n.size));return t},{columns:{col:[],colPinStart:[],colPinEnd:[],sizes:{}},columnGrouping:{col:[],colPinStart:[],colPinEnd:[]},maxLevel:e})}}class De{constructor(t){this.dimensionProvider=t,this.stores=Oe(Pe,(t,e)=>(t[e]=new Te,t),{})}setData(t,e){this.stores[e].updateData([...t]),"row"===e?this.dimensionProvider.setRealSize(t,e):this.dimensionProvider.setPins(t,e)}}var Re=Math.floor,Ae=Math.min,Fe=function(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,u=t[o];null!==u&&!Qt(u)&&(n?u<=e:u<e)?r=o+1:i=o}return i}return function(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,u=e!=e,a=null===e,s=Qt(e),c=void 0===e;i<o;){var l=Re((i+o)/2),f=n(t[l]),v=void 0!==f,h=null===f,d=f==f,b=Qt(f);if(u)var p=r||d;else p=c?d&&(r||v):a?d&&v&&(r||!h):s?d&&v&&!h&&(r||!b):!h&&!b&&(r?f<=e:f<e);p?i=l+1:o=l}return Ae(o,4294967294)}(t,e,me,n)},$e=function(t,e){return Fe(t,e)};function Ve(t,e){return t<e}function Le(t,e,n){return(n[1]-n[0])*(t-e[0])/(e[1]-e[0])+n[0]}function Xe(t,e){let n={itemIndex:e,start:0,end:0};if(t.indexToItem[e])return t.indexToItem[e];const r=t.indexes.length?$e(t.indexes,e):0;if(!r)return n.start=n.itemIndex*t.originItemSize,n.end=n.start+t.originItemSize,n;const i=t.indexToItem[t.indexes[r-1]];return n.start=i.end+(e-i.itemIndex-1)*t.originItemSize,n.end=n.start+t.originItemSize,n}class Ye{constructor(){this.store=Ee({indexes:[],sizes:{},positionIndexToItem:{},indexToItem:{},positionIndexes:[],realSize:0,originItemSize:0,frameOffset:0})}getCurrentState(){const t={indexes:[],sizes:{},positionIndexToItem:{},indexToItem:{},positionIndexes:[],realSize:0,originItemSize:0,frameOffset:0},e=Object.keys(t);return Oe(e,(t,e)=>{const n=this.store.get(e);return t[e]=n,t},t)}setRealSize(t){let e=0;for(let n=0;n<t;n++)e+=this.store.get("sizes")[n]||this.store.get("originItemSize");Ce(this.store,{realSize:e})}setStore(t){Ce(this.store,t)}setDimensionSize(t){const e=function(t,e){let n=[];const r={},i={};let o=0;const u=Object.assign(Object.assign({},t.sizes),e);let a=[];xe(e,(e,n)=>{t.sizes[n]?o+=e-t.sizes[n]:(o+=e-(t.realSize?t.originItemSize:0),a.splice($e(a,parseInt(n,10)),0,parseInt(n,10)))});const s=function(t,e,n=Ve){const r=[];let i=0,o=0,u=0;for(;u<t.length+e.length;){let a=o>=e.length;i>=t.length||!a&&!n(t[i],e[o])?(r[u]=e[o],o++):(r[u]=t[i],i++),u++}return r}(t.indexes,a);return Oe(s,(e,o,a)=>{const s={itemIndex:o,start:0,end:0};return s.start=e?(o-e.itemIndex-1)*t.originItemSize+e.end:o*t.originItemSize,s.end=s.start+u[o],n.push(s.start),i[o]=r[a]=s,s},void 0),{indexes:s,positionIndexes:n,positionIndexToItem:r,indexToItem:i,realSize:t.realSize+o,sizes:u}}(this.getCurrentState(),t);Ce(this.store,e)}}class Ne{constructor(t){this.viewports=t,this.stores=Oe([...Pe,...We],(t,e)=>(t[e]=new Ye,t),{})}setDimensionSize(t,e){this.stores[t].setDimensionSize(e),this.viewports.stores[t].setViewPortDimension(e)}setRealSize(t,e){const n=t.length;this.viewports.stores[e].setViewport({realCount:n}),this.stores[e].setRealSize(n)}setPins(t,e,n){const r=t.length;this.stores[e].setRealSize(r),this.stores[e].setDimensionSize(n);const i=this.stores[e].getCurrentState();this.viewports.stores[e].setViewport({realCount:r,virtualSize:i.realSize}),this.viewports.stores[e].setViewPortCoordinate(0,i)}setViewPortCoordinate(t){const e=this.stores[t.dimension].getCurrentState();this.viewports.stores[t.dimension].setViewPortCoordinate(t.coordinate,e)}setSettings(t,e){let n=[];switch(e){case"col":n=["col","colPinEnd","colPinStart"];break;case"row":n=["row","rowPinEnd","rowPinStart"]}for(let r of n)this.stores[r].setStore(t)}}function Ue(t,e,n){t.splice(n.end+1,0,...e),n.start>=n.end&&(n.start+=e.length),n.end+=e.length}function He(t,e,n,r,i){const o=Ke(r);return Ge({sizes:i.sizes,start:o.end,startIndex:o.itemIndex+1,origSize:i.originItemSize,maxSize:n-(o.end-t.start),maxCount:e-1-o.itemIndex})}function Ge(t,e=0){const n=[];let r=t.startIndex,i=e,o=0;for(;i<=t.maxSize&&o<t.maxCount;){const e=Be(r,t.sizes,t.origSize);n.push({start:t.start+i,end:t.start+i+e,itemIndex:r,size:e}),i+=e,r++,o++}return n}function Be(t,e,n=0){return e&&e[t]?e[t]:n}function qe(t){return t.items[t.start]}function Ke(t){return t.items[t.end]}class Je{constructor(){this.store=Ee({items:[],start:0,end:0,virtualSize:0,realCount:0})}getItems(){return{items:this.store.get("items"),start:this.store.get("start"),end:this.store.get("end")}}setViewport(t){Ce(this.store,t)}setViewPortCoordinate(t,e){if(!this.store.get("virtualSize"))return;const n=e.frameOffset,r=2*n*e.originItemSize,i=this.store.get("virtualSize")+r;let o=i;e.realSize>i&&(o=e.realSize-i);let u=t;u-=n*e.originItemSize,u=u<0?0:u<o?u:o;const a=qe(this.getItems()),s=Ke(this.getItems());if(function(t,e){return e&&t>=e.start&&t<=e.end}(u,a)){if(a&&this.store.get("virtualSize")+u>(null==s?void 0:s.end)){const t=He(a,this.store.get("realCount"),i+u-a.start,this.getItems(),e);if(t.length){const e=[...this.store.get("items")],n={start:this.store.get("start"),end:this.store.get("end")};Ue(e,t,n),Ce(this.store,Object.assign({items:[...e]},n))}}}else{const t=function(t,e,n,r,i){var o,u;const a=function(t,e){const n={itemIndex:0,start:0,end:0},r=t.indexes.length?$e(t.positionIndexes,e):0;if(!r)return n.itemIndex=Math.floor(e/t.originItemSize),n.start=n.itemIndex*t.originItemSize,n.end=n.start+t.originItemSize,n;const i=t.positionIndexToItem[r-1];if(i.end>e)return i;const o=Math.floor((e-i.end)/t.originItemSize);return n.itemIndex=i.itemIndex+1+o,n.start=i.end+o*t.originItemSize,n.end=n.start+t.originItemSize,n}(i,t),s=qe(e);let c;if(s){let t=a.itemIndex-(s.itemIndex||0);if(t){const o=function(t,e){const n=[...e.items],r=n.length;let i={start:e.start,end:e.end};if(t>r)return null;if(e.positiveDirection){let o=Ke(e),u=i.start;const a=u+t;for(;u<a;u++){const t=o.itemIndex+1,a=Be(t,e.sizes,e.originItemSize);if(o.end+a>e.realSize)break;let s=u%r;if(!n[s])throw new Error("incorrect index");n[s]=o={start:o.end,end:o.end+a,itemIndex:t,size:a},i.start++,i.end=s}}else{let o=qe(e);const u=i.end;for(let a=0;a<t;a++){const t=o.itemIndex-1,s=Be(t,e.sizes,e.originItemSize);let c=u-a;if(c=(c<0?r+c:c)%r,!n[c])throw new Error("incorrect index");n[c]=o={start:o.start-s,end:o.start,itemIndex:t,size:s},i.start=c,i.end--}}return Object.assign({items:n},{start:(i.start<0?r+i.start:i.start)%r,end:(i.end<0?r+i.end:i.end)%r})}(Math.abs(t),Object.assign(Object.assign({positiveDirection:t>-1},i),e));if(o&&(c=o),c){const t=He(a,n,r,c,i);t.length&&Ue(c.items,t,c)}}}if(!c){const t=Ge({start:a.start,startIndex:a.itemIndex,origSize:i.originItemSize,maxSize:r,maxCount:n,sizes:i.sizes});c={items:t,start:(null===(o=t[0])||void 0===o?void 0:o.itemIndex)||0,end:(null===(u=t[t.length-1])||void 0===u?void 0:u.itemIndex)||0}}return c}(u,this.getItems(),this.store.get("realCount"),i,e);Ce(this.store,t)}}setViewPortDimension(t){if(!this.store.get("items").length)return;const e=this.store.get("items");let n=0;for(let r of e){let e=0;n&&(r.start+=n,r.end+=n);const i=t[r.itemIndex]||0;i&&(e=i-r.size,n+=e,r.size=i,r.end=r.start+i)}Ce(this.store,{items:[...e]})}}class Qe{constructor(){this.stores=Oe([...Pe,...We],(t,e)=>(t[e]=new Je,t),{})}setViewport(t,e){this.stores[t].setViewport(e)}}const Ze=class{constructor(t){n(this,t),this.frameSize=0,this.rowSize=30,this.colSize=80,this.range=!1,this.readonly=!1,this.resize=!1,this.columns=[],this.source=[],this.pinnedTopSource=[],this.pinnedBottomSource=[],this.uuid=null}columnChanged(t){this.columnProvider.setColumns(t)}dataChanged(t){this.dataProvider.setData(t,"row")}dataBottomChanged(t){this.dataProvider.setData(t,"rowPinEnd")}dataTopChanged(t){this.dataProvider.setData(t,"rowPinStart")}get columnStores(){return Oe(this.columnProvider.stores,(t,e,n)=>(t[n]=e.store,t),{})}get rowStores(){return Oe(this.dataProvider.stores,(t,e,n)=>(t[n]=e.store,t),{})}get dimensionStores(){return Oe(this.dimensionProvider.stores,(t,e,n)=>(t[n]=e.store,t),{})}get viewportStores(){return Oe(this.viewportProvider.stores,(t,e,n)=>(t[n]=e.store,t),{})}connectedCallback(){this.viewportProvider=new Qe,this.dimensionProvider=new Ne(this.viewportProvider),this.columnProvider=new Ie(this.dimensionProvider),this.dataProvider=new De(this.dimensionProvider),this.uuid=(new Date).getTime().toString(),this.dimensionProvider.setSettings({originItemSize:this.rowSize,frameOffset:this.frameSize||0},"row"),this.dimensionProvider.setSettings({originItemSize:this.colSize,frameOffset:this.frameSize||0},"col"),this.columnChanged(this.columns),this.dataChanged(this.source),this.dataTopChanged(this.pinnedTopSource),this.dataBottomChanged(this.pinnedBottomSource)}render(){return r("revogr-viewport",{onSetDimensionSize:t=>this.dimensionProvider.setDimensionSize(t.detail.type,t.detail.sizes),onSetViewportCoordinate:t=>this.dimensionProvider.setViewPortCoordinate(t.detail),onSetViewportSize:t=>this.viewportProvider.setViewport(t.detail.dimension,{virtualSize:t.detail.size}),columnStores:this.columnStores,dimensions:this.dimensionStores,viewports:this.viewportStores,rowStores:this.rowStores,dataProvider:this.dataProvider,uuid:this.uuid,resize:this.resize,readonly:this.readonly,range:this.range})}get element(){return i(this)}static get watchers(){return{columns:["columnChanged"],source:["dataChanged"],pinnedBottomSource:["dataBottomChanged"],pinnedTopSource:["dataTopChanged"]}}};Ze.style="revo-grid{display:block;height:100%;font-family:Helvetica, Arial, Sans-Serif, serif;font-size:14px;position:relative;-webkit-box-shadow:0 -1px 0 0 #e0e0e0;box-shadow:0 -1px 0 0 #e0e0e0;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}revogr-viewport{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}revogr-viewport .main-viewport{-ms-flex-positive:1;flex-grow:1;height:0;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.viewports{max-height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:start;align-items:flex-start;max-width:100%}revogr-scroll-virtual.vertical{overflow-y:auto;overflow-x:hidden;height:100%}revogr-scroll-virtual.vertical>div{width:1px}revogr-scroll-virtual.horizontal{overflow-x:auto;overflow-y:hidden;width:100%}revogr-scroll-virtual.horizontal>div{height:1px}revogr-data{display:block;width:100%;position:relative}revogr-data .row{position:absolute;width:100%;left:0}revogr-data .data-cell{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 -1px 0 0 #e0e0e0 inset, -1px 0 0 0 #e0e0e0 inset;box-shadow:0 -1px 0 0 #e0e0e0 inset, -1px 0 0 0 #e0e0e0 inset;height:100%;text-align:center}revogr-data .data-cell.disabled{background-color:#f7f7f7}revogr-viewport-scroll{-ms-overflow-style:none;overflow-x:auto;overflow-y:hidden;position:relative;height:100%}revogr-viewport-scroll::-webkit-scrollbar{display:none;-webkit-appearance:none}revogr-viewport-scroll.colPinStart{-webkit-box-shadow:-4px 0 0 rgba(0, 0, 0, 0.05) inset;box-shadow:-4px 0 0 rgba(0, 0, 0, 0.05) inset;z-index:2}revogr-viewport-scroll.colPinEnd{-webkit-box-shadow:4px 0 0 rgba(0, 0, 0, 0.05) inset;box-shadow:4px 0 0 rgba(0, 0, 0, 0.05) inset;z-index:2}revogr-viewport-scroll.data-view{-ms-flex-positive:1;flex-grow:1}revogr-viewport-scroll .content-wrapper{overflow:hidden}revogr-viewport-scroll .inner-content-table{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;max-height:100%;width:100%;position:relative;z-index:0}revogr-viewport-scroll .vertical-inner{overflow-y:auto;position:relative;width:100%;-ms-flex-positive:1;flex-grow:1;-ms-overflow-style:none;}revogr-viewport-scroll .vertical-inner::-webkit-scrollbar{display:none;-webkit-appearance:none}revogr-viewport-scroll .vertical-inner revogr-data{height:100%}revogr-header{position:relative;line-height:30px;-webkit-box-shadow:0 1px 10px rgba(0, 0, 0, 0.2);box-shadow:0 1px 10px rgba(0, 0, 0, 0.2);font-weight:600;z-index:5;display:block}revogr-header .data-header-cell,revogr-header .grouped-cell{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%;z-index:1}revogr-header .data-header-cell{-webkit-box-shadow:-1px 0 0 0 #e0e0e0, -1px 0 0 0 #e0e0e0 inset, 0 -1px 0 0 #e0e0e0, 0 -1px 0 0 #e0e0e0 inset;box-shadow:-1px 0 0 0 #e0e0e0, -1px 0 0 0 #e0e0e0 inset, 0 -1px 0 0 #e0e0e0, 0 -1px 0 0 #e0e0e0 inset;text-align:center}revogr-header .header-row{height:30px;display:block;position:relative}revogr-header .header-row.group{-webkit-box-shadow:none;box-shadow:none;z-index:0}revogr-header .group-row{position:relative}revogr-header .group-row .data-header-cell{color:gray}.header-wrapper{width:100%}.header-wrapper revogr-data{-webkit-box-shadow:0 4px 4px rgba(0, 0, 0, 0.05);box-shadow:0 4px 4px rgba(0, 0, 0, 0.05);z-index:3}.footer-wrapper{width:100%}.footer-wrapper revogr-data{-webkit-box-shadow:0 -4px 4px rgba(0, 0, 0, 0.05);box-shadow:0 -4px 4px rgba(0, 0, 0, 0.05);z-index:3}revogr-overlay-selection{display:block;position:absolute;top:0;left:0}revogr-overlay-selection .selection-border-range,revogr-overlay-selection .selection-bg-range,revogr-overlay-selection .temp-bg-range,revogr-overlay-selection .focused-cell{position:absolute;pointer-events:none}revogr-overlay-selection .selection-border-range{-webkit-box-shadow:-1px 0 0 #0d63e8 inset, 1px 0 0 #0d63e8 inset, 0 -1px 0 #0d63e8 inset, 0 1px 0 #0d63e8 inset;box-shadow:-1px 0 0 #0d63e8 inset, 1px 0 0 #0d63e8 inset, 0 -1px 0 #0d63e8 inset, 0 1px 0 #0d63e8 inset;padding:1px 1px 0 0}revogr-overlay-selection .focused-cell{-webkit-box-shadow:-2px 0 0 #0d63e8 inset, 2px 0 0 #0d63e8 inset, 0 -2px 0 #0d63e8 inset, 0 2px 0 #0d63e8 inset;box-shadow:-2px 0 0 #0d63e8 inset, 2px 0 0 #0d63e8 inset, 0 -2px 0 #0d63e8 inset, 0 2px 0 #0d63e8 inset;padding:1px 1px 0 0}revogr-overlay-selection .selection-bg-range{background:rgba(13, 99, 232, 0.1);z-index:-1}revogr-overlay-selection .temp-bg-range{background-color:rgba(13, 99, 232, 0.1)}revogr-overlay-selection .edit-focus-input{position:absolute;left:-1000px;opacity:0;width:0;height:0}revogr-edit{display:block}revogr-edit .edit-input-wrapper{position:absolute;background-color:#fff}revogr-edit .edit-input-wrapper input{height:100%;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}";class tn{constructor(t,e){this.dataStore=t,this.source=[],this.source=e}get columns(){return this.source}set columns(t){this.source=t}isReadOnly(t,e){var n;const r=null===(n=this.columns[e])||void 0===n?void 0:n.readonly;return"function"==typeof r?r(t,e):r}cellRenderer(t,e){var n;const i=null===(n=this.columns[e])||void 0===n?void 0:n.cellTemplate;return i?i(r,this.rowDataModel(t,e)):this.getCellData(t,e)}setCellData(t,e,n){const{data:r,model:i,prop:o}=this.rowDataModel(t,e);i[o]=n,this.dataStore.set("items",[...r])}getCellData(t,e){const{prop:n,model:r}=this.rowDataModel(t,e);return r[n]||""}getSaveData(t,e,n){const{prop:r,model:i}=this.rowDataModel(t,e);return{prop:r,model:i,val:n}}rowDataModel(t,e){var n;const r=null===(n=this.columns[e])||void 0===n?void 0:n.prop,i=this.dataStore.get("items");return{prop:r,model:i[t]||{},data:i}}}const en="grid-uuid",nn=class{constructor(t){n(this,t),this.afterEdit=o(this,"afterEdit",7),this.beforeEdit=o(this,"beforeEdit",7),this.uuid=""}colChanged(t){this.columnService.columns=t}onSave(t){t.cancelBubble=!0;const e=this.columnService.getSaveData(t.detail.row,t.detail.col,t.detail.val),n=this.beforeEdit.emit(e);setTimeout(()=>{n.defaultPrevented||(this.columnService.setCellData(t.detail.row,t.detail.col,t.detail.val),this.afterEdit.emit(e))})}connectedCallback(){this.columnService=new tn(this.dataStore,this.colData)}render(){if(!this.colData||!this.rows.length||!this.cols.length)return"";const t=[];for(let i of this.rows){const e=[];for(let t of this.cols){const n={"data-col":t.itemIndex,"data-row":i.itemIndex,class:"data-cell "+(this.columnService.isReadOnly(i.itemIndex,t.itemIndex)?"disabled":""),style:{width:t.size+"px",transform:`translateX(${t.start}px)`}};e.push(r("div",Object.assign({},n),this.columnService.cellRenderer(i.itemIndex,t.itemIndex)))}t.push(r("div",{class:"row",style:{height:i.size+"px",transform:`translateY(${i.start}px)`}},e))}const e=`${this.uuid}-${this.position.x}-${this.position.y}`,n={[""+en]:e};return this.readonly&&!this.range||t.push(r("revogr-overlay-selection",{slot:"content",selectionStoreConnector:this.selectionStoreConnector,readonly:this.readonly,columnService:this.columnService,dimensionCol:this.dimensionCol,dimensionRow:this.dimensionRow,lastCell:this.lastCell,position:this.position,parent:`[${en}="${e}"]`})),r(u,Object.assign({},n),t)}get element(){return i(this)}static get watchers(){return{colData:["colChanged"]}}},rn=class{constructor(t){n(this,t),this.cellEdit=o(this,"cellEdit",7),this.closeEdit=o(this,"closeEdit",7),this.editCell=null}onSave(t){t.stopPropagation(),this.editCell&&this.cellEdit.emit({col:this.editCell.x,row:this.editCell.y,val:t.detail}),setTimeout(()=>this.closeEdit.emit(),0)}render(){if(!this.editCell)return"";const t=this.editCell.y,e=Xe(this.dimensionCol.state,this.editCell.x),n=Xe(this.dimensionRow.state,t);return r("div",{style:{left:e.start+"px",top:n.start+"px",width:e.end-e.start+"px",height:n.end-n.start+"px"},class:"edit-input-wrapper"},r("revogr-text-editor",{value:this.editCell.val,onEdit:t=>this.onSave(t)}))}};var on=/^\s+|\s+$/g,un=/^[-+]0x[0-9a-f]+$/i,an=/^0b[01]+$/i,sn=/^0o[0-7]+$/i,cn=parseInt,ln=function(t){return t?(t=function(t){if("number"==typeof t)return t;if(Qt(t))return NaN;if(U(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=U(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(on,"");var n=an.test(t);return n||sn.test(t)?cn(t.slice(2),n?2:8):un.test(t)?NaN:+t}(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},fn=Math.max,vn=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:function(t){var e=ln(t),n=e%1;return e==e?n?e-n:e:0}(n);return i<0&&(i=fn(r+i,0)),function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,we(e),i)},hn=l((function(t){t.exports=function(){function t(t){var e;return function(n){return e||t(e={exports:{},parent:n},e.exports),e.exports}}var e=t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Scope=e.ActionName=void 0;var r=v(i),o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==h(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(ne),u=v(Oe),a=v(xe),s=v(We),c=v(Je),l=v(yn),f=v(n({}));function v(t){return t&&t.__esModule?t:{default:t}}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function b(t,e,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O,S=o.win,x=o.browser,M=o.raf,k=o.events;(e.ActionName=O)||(e.ActionName=O={});var _=function(){function t(){var e=this;m(this,t),j(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),j(this,"listenerMaps",[]),j(this,"browser",x),j(this,"events",k),j(this,"utils",o),j(this,"defaults",o.clone(u.default)),j(this,"Eventable",a.default),j(this,"actions",{names:[],methodDict:{},eventTypes:[]}),j(this,"InteractEvent",l.default),j(this,"Interactable",void 0),j(this,"interactables",new c.default(this)),j(this,"_win",void 0),j(this,"document",void 0),j(this,"window",void 0),j(this,"documents",[]),j(this,"_plugins",{list:[],map:{}}),j(this,"onWindowUnload",(function(t){return e.removeDocument(t.target)}));var n=this;this.Interactable=function(){function t(){return m(this,t),d(this,p(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(t,s.default),w(t,[{key:"set",value:function(e){return b(p(t.prototype),"set",this).call(this,e),n.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){b(p(t.prototype),"unset",this).call(this);for(var e=n.interactions.list.length-1;0<=e;e--){var r=n.interactions.list[e];r.interactable===this&&(r.stop(),n.fire("interactions:destroy",{interaction:r}),r.destroy(),2<n.interactions.list.length&&n.interactions.list.splice(e,1))}n.fire("interactable:unset",{interactable:this})}},{key:"_defaults",get:function(){return n.defaults}}]),t}()}return w(t,[{key:"addListeners",value:function(t,e){this.listenerMaps.push({id:e,map:t})}},{key:"fire",value:function(t,e){for(var n=0;n<this.listenerMaps.length;n++){var r=this.listenerMaps[n].map[t];if(r&&!1===r(e,this,t))return!1}}},{key:"init",value:function(t){return function(t,e){return S.init(e),r.default.init(e),x.init(e),M.init(e),k.init(e),t.usePlugin(f.default),t.document=e.document,t.window=e,t}(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||-1!==this._plugins.list.indexOf(t)}},{key:"usePlugin",value:function(t,e){if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,r=this.listenerMaps.length,i=t.before.reduce((function(t,e){return t[e]=!0,t}),{});n<r&&!i[this.listenerMaps[n].id];n++);this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,e){if(-1!==this.getDocIndex(t))return!1;var n=S.getWindow(t);e=e?o.extend({},e):{},this.documents.push({doc:t,options:e}),k.documents.push(t),t!==this.document&&k.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:e})}},{key:"removeDocument",value:function(t){var e=this.getDocIndex(t),n=S.getWindow(t),r=this.documents[e].options;k.remove(n,"unload",this.onWindowUnload),this.documents.splice(e,1),k.documents.splice(e,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:r})}},{key:"getDocIndex",value:function(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1}},{key:"getDocOptions",value:function(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();e.Scope=_})),n=t((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=f(x),u=f(i),a=f(xt),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==v(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(B),c=f(r({})),l=f(Dn);function f(t){return t&&t.__esModule?t:{default:t}}function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e({});var y=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function m(t,e){return function(n){var r=e.interactions.list,i=s.getPointerType(n),u=h(s.getEventTargets(n),2),a=u[0],c=u[1],l=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var f=0;f<n.changedTouches.length;f++){var v=n.changedTouches[f],d={pointer:v,pointerId:s.getPointerId(v),pointerType:i,eventType:n.type,eventTarget:a,curEventTarget:c,scope:e},b=g(d);l.push([d.pointer,d.eventTarget,d.curEventTarget,b])}}else{var p=!1;if(!o.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var y=0;y<r.length&&!p;y++)p="mouse"!==r[y].pointerType&&r[y].pointerIsDown;p=p||e.now()-e.prevTouchTime<500||0===n.timeStamp}if(!p){var m={pointer:n,pointerId:s.getPointerId(n),pointerType:i,eventType:n.type,curEventTarget:c,eventTarget:a,scope:e},w=g(m);l.push([m.pointer,m.eventTarget,m.curEventTarget,w])}}for(var j=0;j<l.length;j++){var O=h(l[j],4);O[3][t](O[0],n,O[1],O[2])}}}function g(t){var e=t.pointerType,n=t.scope,r={interaction:l.default.search(t),searchDetails:t};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:e})}function w(t,e){var n=t.doc,r=t.scope,i=t.options,o=r.interactions.docEvents,u=a.default[e];for(var s in r.browser.isIOS&&!i.events&&(i.events={passive:!1}),a.default.delegatedEvents)u(n,s,a.default.delegateListener),u(n,s,a.default.delegateUseCapture,!0);for(var c=i&&i.events,l=0;l<o.length;l++){var f=o[l];u(n,f.type,f.listener,c)}}var j={id:"core/interactions",install:function(t){for(var e={},n=0;n<y.length;n++){var r=y[n];e[r]=m(r,t)}var i,a=o.default.pEventTypes;function s(){for(var e=0;e<t.interactions.list.length;e++){var n=t.interactions.list[e];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var r=function(){var e=n.pointers[i];t.documents.some((function(t){return(0,T.nodeContains)(t.doc,e.downTarget)}))||n.removePointer(e.pointer,e.event)},i=0;i<n.pointers.length;i++)r()}}(i=u.default.PointerEvent?[{type:a.down,listener:s},{type:a.down,listener:e.pointerDown},{type:a.move,listener:e.pointerMove},{type:a.up,listener:e.pointerUp},{type:a.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:s},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(e){for(var n=0;n<t.interactions.list.length;n++)t.interactions.list[n].documentBlur(e)}}),t.prevTouchTime=0,t.Interaction=function(){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,b(e).apply(this,arguments))}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,c.default),(n=[{key:"_now",value:function(){return t.now()}},{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(e){t.interactions.pointerMoveTolerance=e}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}(),t.interactions={list:[],new:function(e){e.scopeFire=function(e,n){return t.fire(e,n)};var n=new t.Interaction(e);return t.interactions.list.push(n),n},listeners:e,docEvents:i,pointerMoveTolerance:1}},listeners:{"scope:add-document":function(t){return w(t,"add")},"scope:remove-document":function(t){return w(t,"remove")}},onDocSignal:w,doOnInteractions:m,methodNames:y};n.default=j})),r=t((function(t,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PointerInfo",{enumerable:!0,get:function(){return f.default}}),n.default=n.Interaction=n._ProxyMethods=n._ProxyValues=void 0;var i,o,u,a,s,c=d(ne),l=d(yn),f=(i=Wn)&&i.__esModule?i:{default:i},v=e({});function h(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function d(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=h();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=i?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n._ProxyValues=o,(u=o||(n._ProxyValues=o={})).interactable="",u.element="",u.prepared="",u.pointerIsDown="",u.pointerWasMoved="",u._proxy="",n._ProxyMethods=a,(s=a||(n._ProxyMethods=a={})).start="",s.move="",s.end="",s.stop="",s.interacting="";var m=0,g=function(){function t(e){var n=this,r=e.pointerType,i=e.scopeFire;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"interactable",null),y(this,"element",null),y(this,"rect",void 0),y(this,"_rects",void 0),y(this,"edges",void 0),y(this,"_scopeFire",void 0),y(this,"prepared",{name:null,axis:null,edges:null}),y(this,"pointerType",void 0),y(this,"pointers",[]),y(this,"downEvent",null),y(this,"downPointer",{}),y(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),y(this,"prevEvent",null),y(this,"pointerIsDown",!1),y(this,"pointerWasMoved",!1),y(this,"_interacting",!1),y(this,"_ending",!1),y(this,"_stopped",!0),y(this,"_proxy",null),y(this,"simulation",null),y(this,"doMove",c.warnOnce((function(t){this.move(t)}),"The interaction.doMove() method has been renamed to interaction.move()")),y(this,"coords",{start:c.pointer.newCoords(),prev:c.pointer.newCoords(),cur:c.pointer.newCoords(),delta:c.pointer.newCoords(),velocity:c.pointer.newCoords()}),y(this,"_id",m++),this._scopeFire=i,this.pointerType=r;var u=this;function s(t){Object.defineProperty(n._proxy,t,{get:function(){return u[t]}})}for(var l in this._proxy={},o)s(l);function f(t){Object.defineProperty(n._proxy,t,{value:function(){return u[t].apply(u,arguments)}})}for(var v in a)f(v);this._scopeFire("interactions:new",{interaction:this})}return p(t,[{key:"pointerMoveTolerance",get:function(){return 1}}]),p(t,[{key:"pointerDown",value:function(t,e,n){var r=this.updatePointer(t,e,n,!0);this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:n,pointerIndex:r,type:"down",interaction:this})}},{key:"start",value:function(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name===v.ActionName.Gesture?2:1)||!e.options[t.name].enabled)&&(c.copyAction(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=c.extend({},this.prepared.edges),this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:l.EventPhase.Start})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,e,n){this.simulation||this.modifiers&&this.modifiers.endResult||(this.updatePointer(t,e,n,!1),c.pointer.setCoords(this.coords.cur,this.pointers.map((function(t){return t.pointer})),this._now()));var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(this.pointerWasMoved=c.hypot(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y)>this.pointerMoveTolerance);var u={pointer:t,pointerIndex:this.getPointerIndex(t),event:e,type:"move",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||(c.pointer.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),c.pointer.setCoordVelocity(this.coords.velocity,this.coords.delta)),this._scopeFire("interactions:move",u),o||(this.interacting()&&(u.type=null,this.move(u)),this.pointerWasMoved&&c.pointer.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||c.pointer.setZeroCoords(this.coords.delta),(t=c.extend({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase=l.EventPhase.Move,this._doPhase(t)}},{key:"pointerUp",value:function(t,e,n,r){var i=this.getPointerIndex(t);-1===i&&(i=this.updatePointer(t,e,n,!1));var o=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:t,pointerIndex:i,event:e,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(e),this.pointerIsDown=!1,this.removePointer(t,e)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:l.EventPhase.End})),!(this._ending=!1)===e&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var e=c.pointer.getPointerId(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:c.arr.findIndex(this.pointers,(function(t){return t.id===e}))}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,e,n,r){var i=c.pointer.getPointerId(t),o=this.getPointerIndex(t),u=this.pointers[o];return r=!1!==r&&(r||/(down|start)$/i.test(e.type)),u?u.pointer=t:(u=new f.default(i,t,e,null,null),o=this.pointers.length,this.pointers.push(u)),r&&(this.pointerIsDown=!0,this.interacting()||(c.pointer.setCoords(this.coords.start,this.pointers.map((function(t){return t.pointer})),this._now()),c.pointer.copyCoords(this.coords.cur,this.coords.start),c.pointer.copyCoords(this.coords.prev,this.coords.start),c.pointer.pointerExtend(this.downPointer,t),this.downEvent=e,u.downTime=this.coords.cur.timeStamp,u.downTarget=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:n,down:r,pointerInfo:u,pointerIndex:o,interaction:this}),o}},{key:"removePointer",value:function(t,e){var n=this.getPointerIndex(t);-1!==n&&(this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:this.pointers[n],interaction:this}),this.pointers.splice(n,1))}},{key:"_updateLatestPointer",value:function(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,e,n,r){return new l.default(this,t,this.prepared.name,e,this.element,null,n,r)}},{key:"_fireEvent",value:function(t){this.interactable.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var e=t.event,n=t.phase,r=t.preEnd,i=t.type,o=this.rect;if(o&&n===l.EventPhase.Move&&(c.rect.addEdges(this.edges||this.prepared.edges||{left:!0,right:!0,top:!0,bottom:!0},o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),t))return!1;var u=t.iEvent=this._createPreparedEvent(e,n,r,i);return this._scopeFire("interactions:action-".concat(n),t),"start"===n&&(this.prevEvent=u),this._fireEvent(u),this._scopeFire("interactions:after-action-".concat(n),t),!0}},{key:"_now",value:function(){return Date.now()}}]),t}(),w=n.Interaction=g;n.default=w})),i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o={init:function(t){var e=t;o.document=e.document,o.DocumentFragment=e.DocumentFragment||u,o.SVGElement=e.SVGElement||u,o.SVGSVGElement=e.SVGSVGElement||u,o.SVGElementInstance=e.SVGElementInstance||u,o.Element=e.Element||u,o.HTMLElement=e.HTMLElement||o.Element,o.Event=e.Event,o.Touch=e.Touch||u,o.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function u(){}i.default=o;var a={};function s(t,e){for(var n=0;n<e.length;n++)t.push(e[n]);return t}function c(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}Object.defineProperty(a,"__esModule",{value:!0}),a.contains=function(t,e){return-1!==t.indexOf(e)},a.remove=function(t,e){return t.splice(t.indexOf(e),1)},a.merge=s,a.from=function(t){return s([],t)},a.findIndex=c,a.find=function(t,e){return t[c(t,e)]};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default=function(t){return!(!t||!t.Window)&&t instanceof t.Window};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.init=b,f.getWindow=p,f.default=void 0;var v,h=(v=l)&&v.__esModule?v:{default:v},d={realWindow:void 0,window:void 0,getWindow:p,init:b};function b(t){var e=(d.realWindow=t).document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),d.window=t}function p(t){return(0,h.default)(t)?t:(t.ownerDocument||t).defaultView||d.window}"undefined"==typeof window?(d.window=void 0,d.realWindow=void 0):b(window),d.init=b,f.default=d;var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.array=y.plainObject=y.element=y.string=y.bool=y.number=y.func=y.object=y.docFrag=y.window=void 0;var m=w(l),g=w(f);function w(t){return t&&t.__esModule?t:{default:t}}function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}y.window=function(t){return t===g.default.window||(0,m.default)(t)},y.docFrag=function(t){return O(t)&&11===t.nodeType};var O=function(t){return!!t&&"object"===j(t)};function S(t){return"function"==typeof t}y.object=O,y.func=S,y.number=function(t){return"number"==typeof t},y.bool=function(t){return"boolean"==typeof t},y.string=function(t){return"string"==typeof t},y.element=function(t){if(!t||"object"!==j(t))return!1;var e=g.default.getWindow(t)||g.default.window;return/object|function/.test(j(e.Element))?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName},y.plainObject=function(t){return O(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},y.array=function(t){return O(t)&&void 0!==t.length&&S(t.splice)};var x={};function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var k=E(i),_=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==M(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(y),z=E(f);function E(t){return t&&t.__esModule?t:{default:t}}var C={init:function(t){var e=k.default.Element,n=z.default.window.navigator;C.supportsTouch="ontouchstart"in t||_.func(t.DocumentTouch)&&k.default.document instanceof t.DocumentTouch,C.supportsPointerEvent=!1!==n.pointerEnabled&&!!k.default.PointerEvent,C.isIOS=/iP(hone|od|ad)/.test(n.platform),C.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),C.isIe9=/MSIE 9/.test(n.userAgent),C.isOperaMobile="Opera"===n.appName&&C.supportsTouch&&/Presto/.test(n.userAgent),C.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",C.pEventTypes=C.supportsPointerEvent?k.default.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,C.wheelEvent="onmousewheel"in k.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};x.default=C;var T={};function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(T,"__esModule",{value:!0}),T.nodeContains=function(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},T.closest=function(t,e){for(;D.element(t);){if(L(t,e))return t;t=V(t)}return null},T.parentNode=V,T.matchesSelector=L,T.indexOfDeepestElement=function(t){var e,n,r=[],i=t[0],o=i?0:-1;for(e=1;e<t.length;e++){var u=t[e];if(u&&u!==i)if(i){if(u.parentNode!==u.ownerDocument)if(i.parentNode!==u.ownerDocument)if(u.parentNode!==i.parentNode){if(!r.length)for(var a=i,s=void 0;(s=X(a))&&s!==a.ownerDocument;)r.unshift(a),a=s;var c=void 0;if(i instanceof I.default.HTMLElement&&u instanceof I.default.SVGElement&&!(u instanceof I.default.SVGSVGElement)){if(u===i.parentNode)continue;c=u.ownerSVGElement}else c=u;for(var l=[];c.parentNode!==c.ownerDocument;)l.unshift(c),c=X(c);for(n=0;l[n]&&l[n]===r[n];)n++;for(var f=[l[n-1],l[n],r[n]],v=f[0].lastChild;v;){if(v===f[1]){i=u,o=e,r=l;break}if(v===f[2])break;v=v.previousSibling}}else(parseInt((0,R.getWindow)(i).getComputedStyle(i).zIndex,10)||0)<=(parseInt((0,R.getWindow)(u).getComputedStyle(u).zIndex,10)||0)&&(i=u,o=e);else i=u,o=e}else i=u,o=e}return o},T.matchesUpTo=function(t,e,n){for(;D.element(t);){if(L(t,e))return!0;if((t=V(t))===n)return L(t,e)}return!1},T.getActualElement=function(t){return t instanceof I.default.SVGElementInstance?t.correspondingUseElement:t},T.getScrollXY=Y,T.getElementClientRect=N,T.getElementRect=function(t){var e=N(t);if(!W.default.isIOS7&&e){var n=Y(R.default.getWindow(t));e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e},T.getPath=function(t){for(var e=[];t;)e.push(t),t=V(t);return e},T.trySelector=function(t){return!!D.string(t)&&(I.default.document.querySelector(t),!0)};var W=$(x),I=$(i),D=F(y),R=F(f);function A(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return A=function(){return t},t}function F(t){if(t&&t.__esModule)return t;if(null===t||"object"!==P(t)&&"function"!=typeof t)return{default:t};var e=A();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function $(t){return t&&t.__esModule?t:{default:t}}function V(t){var e=t.parentNode;if(D.docFrag(e)){for(;(e=e.host)&&D.docFrag(e););return e}return e}function L(t,e){return R.default.window!==R.default.realWindow&&(e=e.replace(/\/deep\//g," ")),t[W.default.prefixedMatchesSelector](e)}var X=function(t){return t.parentNode?t.parentNode:t.host};function Y(t){return{x:(t=t||R.default.window).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function N(t){var e=t instanceof I.default.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0,U.default=function(t,e){return Math.sqrt(t*t+e*e)};var H={};function G(t,e){for(var n in e){var r=G.prefixedPropREs,i=!1;for(var o in r)if(0===n.indexOf(o)&&r[o].test(n)){i=!0;break}i||"function"==typeof e[n]||(t[n]=e[n])}return t}Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,G.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/},H.default=G;var B={};function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(B,"__esModule",{value:!0}),B.copyCoords=function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},B.setCoordDeltas=function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp},B.setCoordVelocity=function(t,e){var n=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/n,t.page.y=e.page.y/n,t.client.x=e.client.x/n,t.client.y=e.client.y/n,t.timeStamp=n},B.setZeroCoords=function(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0},B.isNativePointer=ot,B.getXY=ut,B.getPageXY=at,B.getClientXY=st,B.getPointerId=function(t){return tt.number(t.pointerId)?t.pointerId:t.identifier},B.setCoords=function(t,e,n){var r=1<e.length?lt(e):e[0],i={};at(r,i),t.page.x=i.x,t.page.y=i.y,st(r,i),t.client.x=i.x,t.client.y=i.y,t.timeStamp=n},B.getTouchPair=ct,B.pointerAverage=lt,B.touchBBox=function(t){if(!(t.length||t.touches&&1<t.touches.length))return null;var e=ct(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),i=Math.max(e[0].pageX,e[1].pageX),o=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r}},B.touchDistance=function(t,e){var n=e+"X",r=e+"Y",i=ct(t);return(0,Z.default)(i[0][n]-i[1][n],i[0][r]-i[1][r])},B.touchAngle=function(t,e){var n=e+"X",r=e+"Y",i=ct(t);return 180*Math.atan2(i[1][r]-i[0][r],i[1][n]-i[0][n])/Math.PI},B.getPointerType=function(t){return tt.string(t.pointerType)?t.pointerType:tt.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type)||t instanceof J.default.Touch?"touch":"mouse"},B.getEventTargets=function(t){var e=tt.func(t.composedPath)?t.composedPath():t.path;return[Q.getActualElement(e?e[0]:t.target),Q.getActualElement(t.currentTarget)]},B.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},B.coordsToEvent=function(t){return{coords:t,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons}}},Object.defineProperty(B,"pointerExtend",{enumerable:!0,get:function(){return et.default}});var K=it(x),J=it(i),Q=rt(T),Z=it(U),tt=rt(y),et=it(H);function nt(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return nt=function(){return t},t}function rt(t){if(t&&t.__esModule)return t;if(null===t||"object"!==q(t)&&"function"!=typeof t)return{default:t};var e=nt();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function it(t){return t&&t.__esModule?t:{default:t}}function ot(t){return t instanceof J.default.Event||t instanceof J.default.Touch}function ut(t,e,n){return(n=n||{}).x=e[(t=t||"page")+"X"],n.y=e[t+"Y"],n}function at(t,e){return e=e||{x:0,y:0},K.default.isOperaMobile&&ot(t)?(ut("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):ut("page",t,e),e}function st(t,e){return e=e||{},K.default.isOperaMobile&&ot(t)?ut("screen",t,e):ut("client",t,e),e}function ct(t){var e=[];return tt.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function lt(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var r=t[n];for(var i in e)e[i]+=r[i]}for(var o in e)e[o]/=t.length;return e}var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=function(t,e){for(var n in e)t[n]=e[n];return t};var vt={};function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(vt,"__esModule",{value:!0}),vt.getStringOptionResult=yt,vt.resolveRectLike=function(t,e,n,r){var i=t;return pt.string(i)?i=yt(i,e,n):pt.func(i)&&(i=i.apply(void 0,function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(r))),pt.element(i)&&(i=(0,T.getElementRect)(i)),i},vt.rectToXY=function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},vt.xywhToTlbr=function(t){return!t||"left"in t&&"top"in t||((t=(0,bt.default)({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t},vt.tlbrToXywh=function(t){return!t||"x"in t&&"y"in t||((t=(0,bt.default)({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||t.right||0-t.x,t.height=t.height||t.bottom||0-t.y),t},vt.addEdges=function(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top};var dt,bt=(dt=ft)&&dt.__esModule?dt:{default:dt},pt=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ht(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(y);function yt(t,e,n){return"parent"===t?(0,T.parentNode)(n):"self"===t?e.getRect(n):(0,T.closest)(n,t)}var mt={};function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=function t(e){var n={};for(var r in e){var i=e[r];n[r]=jt.plainObject(i)?t(i):jt.array(i)?wt.from(i):i}return n};var wt=St(a),jt=St(y);function Ot(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Ot=function(){return t},t}function St(t){if(t&&t.__esModule)return t;if(null===t||"object"!==gt(t)&&"function"!=typeof t)return{default:t};var e=Ot();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var xt={};function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(xt,"__esModule",{value:!0}),xt.default=xt.FakeEvent=void 0;var kt,_t=Pt(T),zt=Pt(y),Et=(kt=H)&&kt.__esModule?kt:{default:kt},Ct=Pt(B);function Tt(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Tt=function(){return t},t}function Pt(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Mt(t)&&"function"!=typeof t)return{default:t};var e=Tt();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var It=[],Dt=[],Rt={},At=[];function Ft(t,e,n,r){var i=Xt(r),o=It.indexOf(t),u=Dt[o];u||(u={events:{},typeCount:0},o=It.push(t)-1,Dt.push(u)),u.events[e]||(u.events[e]=[],u.typeCount++),t.removeEventListener&&!(0,a.contains)(u.events[e],n)&&(t.addEventListener(e,n,Nt.supportsOptions?i:!!i.capture),u.events[e].push(n))}function $t(t,e,n,r){var i=Xt(r),o=It.indexOf(t),u=Dt[o];if(u&&u.events)if("all"!==e){if(u.events[e]){var a=u.events[e].length;if("all"===n){for(var s=0;s<a;s++)$t(t,e,u.events[e][s],i);return}for(var c=0;c<a;c++)if(t.removeEventListener&&u.events[e][c]===n){t.removeEventListener(e,n,Nt.supportsOptions?i:!!i.capture),u.events[e].splice(c,1);break}u.events[e]&&0===u.events[e].length&&(u.events[e]=null,u.typeCount--)}u.typeCount||(Dt.splice(o,1),It.splice(o,1))}else for(e in u.events)u.events.hasOwnProperty(e)&&$t(t,e,"all")}function Vt(t,e){for(var n=Xt(e),r=new Yt(t),i=Rt[t.type],o=Wt(Ct.getEventTargets(t),1)[0],u=o;zt.element(u);){for(var a=0;a<i.selectors.length;a++){var s=i.contexts[a];if(_t.matchesSelector(u,i.selectors[a])&&_t.nodeContains(s,o)&&_t.nodeContains(s,u)){var c=i.listeners[a];r.currentTarget=u;for(var l=0;l<c.length;l++){var f=Wt(c[l],3);f[1]===!!n.capture&&f[2]===n.passive&&(0,f[0])(r)}}}u=_t.parentNode(u)}}function Lt(t){return Vt.call(this,t,!0)}function Xt(t){return zt.object(t)?t:{capture:t}}var Yt=function(){function t(e){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originalEvent=e,r=void 0,(n="currentTarget")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,(0,Et.default)(this,e)}var e;return(e=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();xt.FakeEvent=Yt;var Nt={add:Ft,remove:$t,addDelegate:function(t,e,n,r,i){var o=Xt(i);if(!Rt[n]){Rt[n]={contexts:[],listeners:[],selectors:[]};for(var u=0;u<At.length;u++){var a=At[u];Ft(a,n,Vt),Ft(a,n,Lt,!0)}}var s,c=Rt[n];for(s=c.selectors.length-1;0<=s&&(c.selectors[s]!==t||c.contexts[s]!==e);s--);-1===s&&(s=c.selectors.length,c.selectors.push(t),c.contexts.push(e),c.listeners.push([])),c.listeners[s].push([r,!!o.capture,o.passive])},removeDelegate:function(t,e,n,r,i){var o,u=Xt(i),a=Rt[n],s=!1;if(a)for(o=a.selectors.length-1;0<=o;o--)if(a.selectors[o]===t&&a.contexts[o]===e){for(var c=a.listeners[o],l=c.length-1;0<=l;l--){var f=Wt(c[l],3);if(f[0]===r&&f[1]===!!u.capture&&f[2]===u.passive){c.splice(l,1),c.length||(a.selectors.splice(o,1),a.contexts.splice(o,1),a.listeners.splice(o,1),$t(e,n,Vt),$t(e,n,Lt,!0),a.selectors.length||(Rt[n]=null)),s=!0;break}}if(s)break}},delegateListener:Vt,delegateUseCapture:Lt,delegatedEvents:Rt,documents:At,supportsOptions:!1,supportsPassive:!1,_elements:It,_targets:Dt,init:function(t){t.document.createElement("div").addEventListener("test",null,{get capture(){return Nt.supportsOptions=!0},get passive(){return Nt.supportsPassive=!0}})}};xt.default=Nt;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.default=function(t,e,n){var r=t.options[n],i=(0,vt.resolveRectLike)(r&&r.origin||t.options.origin,t,e,[t&&e]);return(0,vt.rectToXY)(i)||{x:0,y:0}};var Ht={};function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=function t(e,n,r){if(r=r||{},Kt.string(e)&&-1!==e.search(" ")&&(e=Jt(e)),Kt.array(e))return e.reduce((function(e,i){return(0,qt.default)(e,t(i,n,r))}),r);if(Kt.object(e)&&(n=e,e=""),Kt.func(n))r[e]=r[e]||[],r[e].push(n);else if(Kt.array(n))for(var i=0;i<n.length;i++)t(e,n[i],r);else if(Kt.object(n))for(var o in n){var u=Jt(o).map((function(t){return"".concat(e).concat(t)}));t(u,n[o],r)}return r};var Bt,qt=(Bt=ft)&&Bt.__esModule?Bt:{default:Bt},Kt=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Gt(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(y);function Jt(t){return t.trim().split(/ +/)}var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.default=void 0;var Zt,te,ee=0;Qt.default={request:function(t){return Zt(t)},cancel:function(t){return te(t)},init:function(t){if(te=t.cancelAnimationFrame,!(Zt=t.requestAnimationFrame))for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var r=e[n];Zt=t["".concat(r,"RequestAnimationFrame")],te=t["".concat(r,"CancelAnimationFrame")]||t["".concat(r,"CancelRequestAnimationFrame")]}Zt||(Zt=function(t){var e=Date.now(),n=Math.max(0,16-(e-ee)),r=setTimeout((function(){t(e+n)}),n);return ee=e+n,r},te=function(t){return clearTimeout(t)})}};var ne={};function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ne,"__esModule",{value:!0}),ne.warnOnce=function(t,e){var n=!1;return function(){return n||(ce.default.window.console.warn(e),n=!0),t.apply(this,arguments)}},ne._getQBezierValue=je,ne.getQuadraticCurvePoint=function(t,e,n,r,i,o,u){return{x:je(u,t,n,i),y:je(u,e,r,o)}},ne.easeOutQuad=function(t,e,n,r){return-n*(t/=r)*(t-2)+e},ne.copyAction=function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t},Object.defineProperty(ne,"win",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(ne,"browser",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(ne,"clone",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(ne,"events",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(ne,"extend",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(ne,"getOriginXY",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(ne,"hypot",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(ne,"normalizeListeners",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(ne,"raf",{enumerable:!0,get:function(){return ye.default}}),ne.rect=ne.pointer=ne.is=ne.dom=ne.arr=void 0;var ie=we(a);ne.arr=ie;var oe=we(T);ne.dom=oe;var ue=we(y);ne.is=ue;var ae=we(B);ne.pointer=ae;var se=we(vt);ne.rect=se;var ce=me(f),le=me(x),fe=me(mt),ve=me(xt),he=me(ft),de=me(Ut),be=me(U),pe=me(Ht),ye=me(Qt);function me(t){return t&&t.__esModule?t:{default:t}}function ge(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return ge=function(){return t},t}function we(t){if(t&&t.__esModule)return t;if(null===t||"object"!==re(t)&&"function"!=typeof t)return{default:t};var e=ge();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function je(t,e,n,r){var i=1-t;return i*i*e+2*i*t*n+t*t*r}var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=Oe.defaults=void 0;var Se=Oe.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};Oe.default=Se;var xe={};function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var ke=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Me(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(a),_e=Ee(ft),ze=Ee(Ht);function Ee(t){return t&&t.__esModule?t:{default:t}}function Ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t.immediatePropagationStopped)break;r(t)}}var Pe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ce(this,"options",void 0),Ce(this,"types",{}),Ce(this,"propagationStopped",!1),Ce(this,"immediatePropagationStopped",!1),Ce(this,"global",void 0),this.options=(0,_e.default)({},e||{})}var e;return(e=[{key:"fire",value:function(t){var e,n=this.global;(e=this.types[t.type])&&Te(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&Te(t,e)}},{key:"on",value:function(t,e){var n=(0,ze.default)(t,e);for(t in n)this.types[t]=ke.merge(this.types[t]||[],n[t])}},{key:"off",value:function(t,e){var n=(0,ze.default)(t,e);for(t in n){var r=this.types[t];if(r&&r.length)for(var i=0;i<n[t].length;i++){var o=r.indexOf(n[t][i]);-1!==o&&r.splice(o,1)}}}},{key:"getRect",value:function(){return null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();xe.default=Pe;var We={};function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(We,"__esModule",{value:!0}),We.default=We.Interactable=void 0;var De=Ue(a),Re=Ye(x),Ae=Ye(mt),Fe=Ye(xt),$e=Ye(ft),Ve=Ue(y),Le=Ye(Ht),Xe=Ye(xe);function Ye(t){return t&&t.__esModule?t:{default:t}}function Ne(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Ne=function(){return t},t}function Ue(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ie(t)&&"function"!=typeof t)return{default:t};var e=Ne();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,e,n){return e&&He(t.prototype,e),n&&He(t,n),t}function Be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qe=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,"options",void 0),Be(this,"_actions",void 0),Be(this,"target",void 0),Be(this,"events",new Xe.default),Be(this,"_context",void 0),Be(this,"_win",void 0),Be(this,"_doc",void 0),this._actions=n.actions,this.target=e,this._context=n.context||r,this._win=(0,f.getWindow)((0,T.trySelector)(e)?this._context:e),this._doc=this._win.document,this.set(n)}return Ge(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}}]),Ge(t,[{key:"setOnEvents",value:function(t,e){return Ve.func(e.onstart)&&this.on("".concat(t,"start"),e.onstart),Ve.func(e.onmove)&&this.on("".concat(t,"move"),e.onmove),Ve.func(e.onend)&&this.on("".concat(t,"end"),e.onend),Ve.func(e.oninertiastart)&&this.on("".concat(t,"inertiastart"),e.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,e,n){(Ve.array(e)||Ve.object(e))&&this.off(t,e),(Ve.array(n)||Ve.object(n))&&this.on(t,n)}},{key:"setPerAction",value:function(t,e){var n=this._defaults;for(var r in e){var i=r,o=this.options[t],u=e[i];"listeners"===i&&this.updatePerActionListeners(t,o.listeners,u),Ve.array(u)?o[i]=De.from(u):Ve.plainObject(u)?(o[i]=(0,$e.default)(o[i]||{},(0,Ae.default)(u)),Ve.object(n.perAction[i])&&"enabled"in n.perAction[i]&&(o[i].enabled=!1!==u.enabled)):Ve.bool(u)&&Ve.object(n.perAction[i])?o[i].enabled=u:o[i]=u}}},{key:"getRect",value:function(t){return t=t||(Ve.element(this.target)?this.target:null),Ve.string(this.target)&&(t=t||this._context.querySelector(this.target)),(0,T.getElementRect)(t)}},{key:"rectChecker",value:function(t){return Ve.func(t)?(this.getRect=t,this):null===t?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(t,e){if((0,T.trySelector)(e)||Ve.object(e)){this.options[t]=e;for(var n=0;n<this._actions.names.length;n++)this.options[this._actions.names[n]][t]=e;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||(0,T.nodeContains)(this._context,t)}},{key:"testIgnoreAllow",value:function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)}},{key:"testAllow",value:function(t,e,n){return!t||!!Ve.element(n)&&(Ve.string(t)?(0,T.matchesUpTo)(n,t,e):!!Ve.element(t)&&(0,T.nodeContains)(t,n))}},{key:"testIgnore",value:function(t,e,n){return!(!t||!Ve.element(n))&&(Ve.string(t)?(0,T.matchesUpTo)(n,t,e):!!Ve.element(t)&&(0,T.nodeContains)(t,n))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,e,n,r){Ve.object(e)&&!Ve.array(e)&&(r=n,n=null);var i="on"===t?"add":"remove",o=(0,Le.default)(e,n);for(var u in o){"wheel"===u&&(u=Re.default.wheelEvent);for(var a=0;a<o[u].length;a++){var s=o[u][a];De.contains(this._actions.eventTypes,u)?this.events[t](u,s):Ve.string(this.target)?Fe.default["".concat(i,"Delegate")](this.target,this._context,u,s,r):Fe.default[i](this.target,u,s,r)}}return this}},{key:"on",value:function(t,e,n){return this._onOff("on",t,e,n)}},{key:"off",value:function(t,e,n){return this._onOff("off",t,e,n)}},{key:"set",value:function(t){var e=this._defaults;for(var n in Ve.object(t)||(t={}),this.options=(0,Ae.default)(e.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,(0,$e.default)((0,$e.default)({},e.perAction),e.actions[r])),this[i](t[r])}for(var o in t)Ve.func(this[o])&&this[o](t[o]);return this}},{key:"unset",value:function(){if(Fe.default.remove(this.target,"all"),Ve.string(this.target))for(var t in Fe.default.delegatedEvents){var e=Fe.default.delegatedEvents[t];e.selectors[0]===this.target&&e.contexts[0]===this._context&&(e.selectors.splice(0,1),e.contexts.splice(0,1),e.listeners.splice(0,1)),Fe.default.remove(this._context,t,Fe.default.delegateListener),Fe.default.remove(this._context,t,Fe.default.delegateUseCapture,!0)}else Fe.default.remove(this.target,"all")}}]),t}(),Ke=We.Interactable=qe;We.default=Ke;var Je={};function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var Ze,tn=un(a),en=un(T),nn=(Ze=ft)&&Ze.__esModule?Ze:{default:Ze},rn=un(y);function on(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return on=function(){return t},t}function un(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Qe(t)&&"function"!=typeof t)return{default:t};var e=on();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function an(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sn=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scope=e,an(this,"list",[]),an(this,"selectorMap",{}),e.addListeners({"interactable:unset":function(t){var e=t.interactable,r=e.target,i=e._context,o=rn.string(r)?n.selectorMap[r]:r[n.scope.id],u=o.findIndex((function(t){return t.context===i}));o[u]&&(o[u].context=null,o[u].interactable=null),o.splice(u,1)}})}var e;return(e=[{key:"new",value:function(t,e){e=(0,nn.default)(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document),r={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),rn.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(r)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:t,options:e,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(t,e){var n=e&&e.context||this.scope.document,r=rn.string(t),i=r?this.selectorMap[t]:t[this.scope.id];if(!i)return null;var o=tn.find(i,(function(e){return e.context===n&&(r||e.interactable.inContext(t))}));return o&&o.interactable}},{key:"forEachMatch",value:function(t,e){for(var n=0;n<this.list.length;n++){var r=this.list[n],i=void 0;if((rn.string(r.target)?rn.element(t)&&en.matchesSelector(t,r.target):t===r.target)&&r.inContext(t)&&(i=e(r)),void 0!==i)return i}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();Je.default=sn;var cn,ln,fn={};function vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hn(t,e,n){return e&&vn(t.prototype,e),n&&vn(t,n),t}function dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(fn,"__esModule",{value:!0}),fn.default=fn.BaseEvent=fn.EventPhase=void 0,fn.EventPhase=cn,(ln=cn||(fn.EventPhase=cn={})).Start="start",ln.Move="move",ln.End="end",ln._NONE="";var bn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),dn(this,"type",void 0),dn(this,"target",void 0),dn(this,"currentTarget",void 0),dn(this,"interactable",void 0),dn(this,"_interaction",void 0),dn(this,"timeStamp",void 0),dn(this,"immediatePropagationStopped",!1),dn(this,"propagationStopped",!1),this._interaction=e}return hn(t,[{key:"interaction",get:function(){return this._interaction._proxy}}]),hn(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),t}(),pn=fn.BaseEvent=bn;fn.default=pn;var yn={};Object.defineProperty(yn,"__esModule",{value:!0}),yn.default=yn.InteractEvent=yn.EventPhase=void 0;var mn,gn,wn=Mn(ft),jn=Mn(Ut),On=Mn(U),Sn=Mn(fn),xn=Mn(Oe);function Mn(t){return t&&t.__esModule?t:{default:t}}function kn(t){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _n(t){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function En(t,e){return(En=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}yn.EventPhase=mn,(gn=mn||(yn.EventPhase=mn={})).Start="start",gn.Move="move",gn.End="end",gn._NONE="";var Tn=function(){function t(e,n,r,i,o,u,a,s){var c,l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c=!(l=_n(t).call(this,e))||"object"!==kn(l)&&"function"!=typeof l?zn(this):l,Cn(zn(c),"target",void 0),Cn(zn(c),"currentTarget",void 0),Cn(zn(c),"relatedTarget",void 0),Cn(zn(c),"screenX",void 0),Cn(zn(c),"screenY",void 0),Cn(zn(c),"button",void 0),Cn(zn(c),"buttons",void 0),Cn(zn(c),"ctrlKey",void 0),Cn(zn(c),"shiftKey",void 0),Cn(zn(c),"altKey",void 0),Cn(zn(c),"metaKey",void 0),Cn(zn(c),"page",void 0),Cn(zn(c),"client",void 0),Cn(zn(c),"delta",void 0),Cn(zn(c),"rect",void 0),Cn(zn(c),"x0",void 0),Cn(zn(c),"y0",void 0),Cn(zn(c),"t0",void 0),Cn(zn(c),"dt",void 0),Cn(zn(c),"duration",void 0),Cn(zn(c),"clientX0",void 0),Cn(zn(c),"clientY0",void 0),Cn(zn(c),"velocity",void 0),Cn(zn(c),"speed",void 0),Cn(zn(c),"swipe",void 0),Cn(zn(c),"timeStamp",void 0),Cn(zn(c),"dragEnter",void 0),Cn(zn(c),"dragLeave",void 0),Cn(zn(c),"axes",void 0),Cn(zn(c),"preEnd",void 0);var f=e.interactable,v=(f&&f.options||xn.default).deltaSource,h=(0,jn.default)(f,o=o||e.element,r),d="start"===i,b="end"===i,p=d?zn(c):e.prevEvent,y=d?e.coords.start:b?{page:p.page,client:p.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return c.page=(0,wn.default)({},y.page),c.client=(0,wn.default)({},y.client),c.rect=(0,wn.default)({},e.rect),c.timeStamp=y.timeStamp,b||(c.page.x-=h.x,c.page.y-=h.y,c.client.x-=h.x,c.client.y-=h.y),c.ctrlKey=n.ctrlKey,c.altKey=n.altKey,c.shiftKey=n.shiftKey,c.metaKey=n.metaKey,c.button=n.button,c.buttons=n.buttons,c.target=o,c.currentTarget=o,c.relatedTarget=u||null,c.preEnd=a,c.type=s||r+(i||""),c.interactable=f,c.t0=d?e.pointers[e.pointers.length-1].downTime:p.t0,c.x0=e.coords.start.page.x-h.x,c.y0=e.coords.start.page.y-h.y,c.clientX0=e.coords.start.client.x-h.x,c.clientY0=e.coords.start.client.y-h.y,c.delta=d||b?{x:0,y:0}:{x:c[v].x-p[v].x,y:c[v].y-p[v].y},c.dt=e.coords.delta.timeStamp,c.duration=c.timeStamp-c.t0,c.velocity=(0,wn.default)({},e.coords.velocity[v]),c.speed=(0,On.default)(c.velocity.x,c.velocity.y),c.swipe=b||"inertiastart"===i?c.getSwipe():null,c}var e;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&En(t,e)}(t,Sn.default),(e=[{key:"getSwipe",value:function(){var t=this._interaction;if(t.prevEvent.speed<600||150<this.timeStamp-t.prevEvent.timeStamp)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,r=202.5<=e&&e<337.5;return{up:r,down:!r&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"pageX",get:function(){return this.page.x},set:function(t){this.page.x=t}},{key:"pageY",get:function(){return this.page.y},set:function(t){this.page.y=t}},{key:"clientX",get:function(){return this.client.x},set:function(t){this.client.x=t}},{key:"clientY",get:function(){return this.client.y},set:function(t){this.client.y=t}},{key:"dx",get:function(){return this.delta.x},set:function(t){this.delta.x=t}},{key:"dy",get:function(){return this.delta.y},set:function(t){this.delta.y=t}},{key:"velocityX",get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},{key:"velocityY",get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}(),Pn=yn.InteractEvent=Tn;yn.default=Pn;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.default=Wn.PointerInfo=void 0;var In=Wn.PointerInfo=function t(e,n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.pointer=n,this.event=r,this.downTime=i,this.downTarget=o};Wn.default=In;var Dn={};function Rn(t){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.default=void 0;var An=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Rn(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(T),Fn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0;e<Fn.methodOrder.length;e++){var n=Fn[Fn.methodOrder[e]](t);if(n)return n}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventTarget,r=t.scope;if(!/down|start/i.test(t.eventType))return null;for(var i=0;i<r.interactions.list.length;i++){var o=r.interactions.list[i],u=n;if(o.simulation&&o.simulation.allowResume&&o.pointerType===e)for(;u;){if(u===o.element)return o;u=An.parentNode(u)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,r=t.pointerType,i=t.eventType,o=t.scope;if("mouse"!==r&&"pen"!==r)return null;for(var u=0;u<o.interactions.list.length;u++){var a=o.interactions.list[u];if(a.pointerType===r){if(a.simulation&&!$n(a,n))continue;if(a.interacting())return a;e=e||a}}if(e)return e;for(var s=0;s<o.interactions.list.length;s++){var c=o.interactions.list[s];if(!(c.pointerType!==r||/down/i.test(i)&&c.simulation))return c}return null},hasPointer:function(t){for(var e=t.pointerId,n=t.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if($n(i,e))return i}return null},idle:function(t){for(var e=t.pointerType,n=t.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(2<=i.pointers.length)continue;if(!i.interacting()&&e===i.pointerType)return i}return null}};function $n(t,e){return t.pointers.some((function(t){return t.id===e}))}Dn.default=Fn;var Vn={};function Ln(t){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.default=void 0;var Xn=e({}),Yn=Hn(a),Nn=Hn(y);function Un(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Un=function(){return t},t}function Hn(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ln(t)&&"function"!=typeof t)return{default:t};var e=Un();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Gn(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function Bn(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var i="x"===r?"y":"x";e.page[i]=n.coords.start.page[i],e.client[i]=n.coords.start.client[i],e.delta[i]=0}}}Xn.ActionName.Drag="drag";var qn={id:"actions/drag",install:function(t){var e=t.actions,n=t.defaults;t.Interactable.prototype.draggable=qn.draggable,e[Xn.ActionName.Drag]=qn,e.names.push(Xn.ActionName.Drag),Yn.merge(e.eventTypes,["dragstart","dragmove","draginertiastart","dragresume","dragend"]),e.methodDict.drag="draggable",n.actions.drag=qn.defaults},listeners:{"interactions:before-action-move":Gn,"interactions:action-resume":Gn,"interactions:action-move":Bn,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.buttons,i=n.options.drag;if(i&&i.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(r&n.options.drag.mouseButtons)))return!(t.action={name:Xn.ActionName.Drag,axis:"start"===i.lockAxis?i.startAxis:i.lockAxis})}},draggable:function(t){return Nn.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction(Xn.ActionName.Drag,t),this.setOnEvents(Xn.ActionName.Drag,t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):Nn.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:Gn,move:Bn,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}};Vn.default=qn;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.default=void 0;var Jn,Qn=(Jn=fn)&&Jn.__esModule?Jn:{default:Jn},Zn=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==tr(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(a);function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rr(t,e){return(rr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var or=function(){function t(e,n,r){var i,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=!(o=er(t).call(this,n._interaction))||"object"!==tr(o)&&"function"!=typeof o?nr(this):o,ir(nr(i),"target",void 0),ir(nr(i),"dropzone",void 0),ir(nr(i),"dragEvent",void 0),ir(nr(i),"relatedTarget",void 0),ir(nr(i),"draggable",void 0),ir(nr(i),"timeStamp",void 0),ir(nr(i),"propagationStopped",!1),ir(nr(i),"immediatePropagationStopped",!1);var u="dragleave"===r?e.prev:e.cur,a=u.element,s=u.dropzone;return i.type=r,i.target=a,i.currentTarget=a,i.dropzone=s,i.dragEvent=n,i.relatedTarget=n.target,i.draggable=n.interactable,i.timeStamp=n.timeStamp,i}var e;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rr(t,e)}(t,Qn.default),(e=[{key:"reject",value:function(){var e=this,n=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&n.cur.dropzone===this.dropzone&&n.cur.element===this.target)if(n.prev.dropzone=this.dropzone,n.prev.element=this.target,n.rejected=!0,n.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var r=Zn.findIndex(n.activeDrops,(function(t){return t.dropzone===e.dropzone&&t.element===e.target}));n.activeDrops.splice(r,1);var i=new t(n,this.dragEvent,"dropdeactivate");i.dropzone=this.dropzone,i.target=this.target,this.dropzone.fire(i)}else this.dropzone.fire(new t(n,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();Kn.default=or;var ur={};function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ur,"__esModule",{value:!0}),ur.default=void 0;var sr=e({}),cr=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ar(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(ne),lr=vr(Vn),fr=vr(Kn);function vr(t){return t&&t.__esModule?t:{default:t}}function hr(t,e){for(var n=0;n<t.slice().length;n++){var r=t.slice()[n],i=r.dropzone,o=r.element;e.dropzone=i,e.target=o,i.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function dr(t,e){for(var n=function(t,e){for(var n=t.interactables,r=[],i=0;i<n.list.length;i++){var o=n.list[i];if(o.options.drop.enabled){var u=o.options.drop.accept;if(!(cr.is.element(u)&&u!==e||cr.is.string(u)&&!cr.dom.matchesSelector(e,u)||cr.is.func(u)&&!u({dropzone:o,draggableElement:e})))for(var a=cr.is.string(o.target)?o._context.querySelectorAll(o.target):cr.is.array(o.target)?o.target:[o.target],s=0;s<a.length;s++){var c=a[s];c!==e&&r.push({dropzone:o,element:c})}}}return r}(t,e),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element)}return n}function br(t,e,n){for(var r=t.dropState,i=t.interactable,o=t.element,u=[],a=0;a<r.activeDrops.length;a++){var s=r.activeDrops[a],c=s.element;u.push(s.dropzone.dropCheck(e,n,i,o,c,s.rect)?c:null)}var l=cr.dom.indexOfDeepestElement(u);return r.activeDrops[l]||null}function pr(t,e,n){var r=t.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(i.activate=new fr.default(r,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===n.type&&(i.deactivate=new fr.default(r,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new fr.default(r,n,"dragleave"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new fr.default(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(i.drop=new fr.default(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(i.move=new fr.default(r,n,"dropmove"),(i.move.dragmove=n).dropzone=r.cur.dropzone)),i}function yr(t,e){var n=t.dropState,r=n.activeDrops,i=n.cur;e.leave&&n.prev.dropzone.fire(e.leave),e.move&&i.dropzone.fire(e.move),e.enter&&i.dropzone.fire(e.enter),e.drop&&i.dropzone.fire(e.drop),e.deactivate&&hr(r,e.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function mr(t,e){var n=t.interaction,r=t.iEvent,i=t.event;if("dragmove"===r.type||"dragend"===r.type){var o=n.dropState;e.dynamicDrop&&(o.activeDrops=dr(e,n.element));var u=r,a=br(n,u,i);o.rejected=o.rejected&&!!a&&a.dropzone===o.cur.dropzone&&a.element===o.cur.element,o.cur.dropzone=a&&a.dropzone,o.cur.element=a&&a.element,o.events=pr(n,0,u)}}var gr={id:"actions/drop",install:function(t){var e=t.actions,n=t.interact,r=t.Interactable,i=t.defaults;t.usePlugin(lr.default),r.prototype.dropzone=function(t){return function(t,e){if(cr.is.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=cr.normalizeListeners(e.listeners),r=Object.keys(n).reduce((function(t,e){return t[/^(enter|leave)/.test(e)?"drag".concat(e):/^(activate|deactivate|move)/.test(e)?"drop".concat(e):e]=n[e],t}),{});t.off(t.options.drop.listeners),t.on(r),t.options.drop.listeners=r}return cr.is.func(e.ondrop)&&t.on("drop",e.ondrop),cr.is.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),cr.is.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),cr.is.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),cr.is.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),cr.is.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:cr.is.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return cr.is.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,t)},r.prototype.dropCheck=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,u){var a=!1;if(!(u=u||t.getRect(o)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,a,t,o,r,i);var s=t.options.drop.overlap;if("pointer"===s){var c=cr.getOriginXY(r,i,sr.ActionName.Drag),l=cr.pointer.getPageXY(e);l.x+=c.x,l.y+=c.y,a=l.x>u.left&&l.x<u.right&&l.y>u.top&&l.y<u.bottom}var f=r.getRect(i);if(f&&"center"===s){var v=f.left+f.width/2,h=f.top+f.height/2;a=v>=u.left&&v<=u.right&&h>=u.top&&h<=u.bottom}return f&&cr.is.number(s)&&(a=s<=Math.max(0,Math.min(u.right,f.right)-Math.max(u.left,f.left))*Math.max(0,Math.min(u.bottom,f.bottom)-Math.max(u.top,f.top))/(f.width*f.height)),t.options.drop.checker&&(a=t.options.drop.checker(e,n,a,t,o,r,i)),a}(this,t,e,n,r,i,o)},n.dynamicDrop=function(e){return cr.is.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop},cr.arr.merge(e.eventTypes,["dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop"]),e.methodDict.drop="dropzone",t.dynamicDrop=!1,i.actions.drop=gr.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,r=t.iEvent;if("drag"===n.prepared.name){var i=n.dropState;i.activeDrops=null,i.events=null,i.activeDrops=dr(e,n.element),i.events=pr(n,0,r),i.events.activate&&(hr(i.activeDrops,i.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":mr,"interactions:action-end":mr,"interactions:after-action-move":function(t,e){var n=t.interaction,r=t.iEvent;"drag"===n.prepared.name&&(yr(n,n.dropState.events),e.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:after-action-end":function(t,e){var n=t.interaction,r=t.iEvent;"drag"===n.prepared.name&&(yr(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:r}))},"interactions:stop":function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:dr,getDrop:br,getDropEvents:pr,fireDropEvents:yr,defaults:{enabled:!1,accept:null,overlap:"pointer"}};ur.default=gr;var wr={};function jr(t){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0;var Or,Sr=(Or=yn)&&Or.__esModule?Or:{default:Or},xr=e({}),Mr=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==jr(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(ne);function kr(t){var e=t.interaction,n=t.iEvent,r=t.event,i=t.phase;if("gesture"===e.prepared.name){var o=e.pointers.map((function(t){return t.pointer})),u="start"===i,a="end"===i,s=e.interactable.options.deltaSource;if(n.touches=[o[0],o[1]],u)n.distance=Mr.pointer.touchDistance(o,s),n.box=Mr.pointer.touchBBox(o),n.scale=1,n.ds=0,n.angle=Mr.pointer.touchAngle(o,s),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(a||r instanceof Sr.default){var c=e.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=Mr.pointer.touchDistance(o,s),n.box=Mr.pointer.touchBBox(o),n.scale=n.distance/e.gesture.startDistance,n.angle=Mr.pointer.touchAngle(o,s),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,Mr.is.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}xr.ActionName.Gesture="gesture";var _r={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.defaults;t.Interactable.prototype.gesturable=function(t){return Mr.is.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction(xr.ActionName.Gesture,t),this.setOnEvents(xr.ActionName.Gesture,t),this):Mr.is.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},e[xr.ActionName.Gesture]=_r,e.names.push(xr.ActionName.Gesture),Mr.arr.merge(e.eventTypes,["gesturestart","gesturemove","gestureend"]),e.methodDict.gesture="gesturable",n.actions.gesture=_r.defaults},listeners:{"interactions:action-start":kr,"interactions:action-move":kr,"interactions:action-end":kr,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return!(t.action={name:xr.ActionName.Gesture})}}},defaults:{},getCursor:function(){return""}};wr.default=_r;var zr={};function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(zr,"__esModule",{value:!0}),zr.default=void 0,r({});var Cr,Tr=e({}),Pr=Ar(a),Wr=Ar(T),Ir=(Cr=ft)&&Cr.__esModule?Cr:{default:Cr},Dr=Ar(y);function Rr(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Rr=function(){return t},t}function Ar(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Er(t)&&"function"!=typeof t)return{default:t};var e=Rr();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Fr(t,e,n,r,i,o,u){if(!e)return!1;if(!0===e){var a=Dr.number(o.width)?o.width:o.right-o.left,s=Dr.number(o.height)?o.height:o.bottom-o.top;if(u=Math.min(u,("left"===t||"right"===t?a:s)/2),a<0&&("left"===t?t="right":"right"===t&&(t="left")),s<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return n.x<(0<=a?o.left:o.right)+u;if("top"===t)return n.y<(0<=s?o.top:o.bottom)+u;if("right"===t)return n.x>(0<=a?o.right:o.left)-u;if("bottom"===t)return n.y>(0<=s?o.bottom:o.top)-u}return!!Dr.element(r)&&(Dr.element(e)?e===r:Wr.matchesUpTo(r,e,i))}function $r(t){var e=t.iEvent,n=t.interaction;n.prepared.name===Tr.ActionName.Resize&&n.resizeAxes&&(n.interactable.options.resize.square?("y"===n.resizeAxes?e.delta.x=e.delta.y:e.delta.y=e.delta.x,e.axes="xy"):(e.axes=n.resizeAxes,"x"===n.resizeAxes?e.delta.y=0:"y"===n.resizeAxes&&(e.delta.x=0)))}var Vr={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,r=t.Interactable,i=t.defaults;Vr.cursors=n.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},Vr.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(e){return function(t,e,n){return Dr.object(e)?(t.options.resize.enabled=!1!==e.enabled,t.setPerAction(Tr.ActionName.Resize,e),t.setOnEvents(Tr.ActionName.Resize,e),Dr.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),Dr.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:Dr.bool(e.square)&&(t.options.resize.square=e.square),t):Dr.bool(e)?(t.options.resize.enabled=e,t):t.options.resize}(this,e,t)},e[Tr.ActionName.Resize]=Vr,e.names.push(Tr.ActionName.Resize),Pr.merge(e.eventTypes,["resizestart","resizemove","resizeinertiastart","resizeresume","resizeend"]),e.methodDict.resize="resizable",i.actions.resize=Vr.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=n.rect;n._rects={start:(0,Ir.default)({},r),corrected:(0,Ir.default)({},r),previous:(0,Ir.default)({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.edges=n.prepared.edges,e.rect=n._rects.corrected,e.deltaRect=n._rects.delta}}(t),$r(t)},"interactions:action-move":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=n.interactable.options.resize.invert,i="reposition"===r||"negate"===r,o=n.rect,u=n._rects,a=u.start,s=u.corrected,c=u.delta,l=u.previous;if((0,Ir.default)(l,s),i){if((0,Ir.default)(s,o),"reposition"===r){if(s.top>s.bottom){var f=s.top;s.top=s.bottom,s.bottom=f}if(s.left>s.right){var v=s.left;s.left=s.right,s.right=v}}}else s.top=Math.min(o.top,a.bottom),s.bottom=Math.max(o.bottom,a.top),s.left=Math.min(o.left,a.right),s.right=Math.max(o.right,a.left);for(var h in s.width=s.right-s.left,s.height=s.bottom-s.top,s)c[h]=s[h]-l[h];e.edges=n.prepared.edges,e.rect=s,e.deltaRect=c}}(t),$r(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;"resize"===n.prepared.name&&n.prepared.edges&&(e.edges=n.prepared.edges,e.rect=n._rects.corrected,e.deltaRect=n._rects.delta)},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.element,i=t.rect,o=t.buttons;if(i){var u=(0,Ir.default)({},e.coords.cur.page),a=n.options.resize;if(a&&a.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(o&a.mouseButtons))){if(Dr.object(a.edges)){var s={left:!1,right:!1,top:!1,bottom:!1};for(var c in s)s[c]=Fr(c,a.edges[c],u,e._latestPointer.eventTarget,r,i,a.margin||Vr.defaultMargin);s.left=s.left&&!s.right,s.top=s.top&&!s.bottom,(s.left||s.right||s.top||s.bottom)&&(t.action={name:Tr.ActionName.Resize,edges:s})}else{var l="y"!==a.axis&&u.x>i.right-Vr.defaultMargin,f="x"!==a.axis&&u.y>i.bottom-Vr.defaultMargin;(l||f)&&(t.action={name:"resize",axes:(l?"x":"")+(f?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!(Tr.ActionName.Resize="resize"),preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,r=Vr.cursors,i=null;if(n)i=r[t.name+n];else if(e){for(var o="",u=["top","bottom","left","right"],a=0;a<u.length;a++){var s=u[a];e[s]&&(o+=s)}i=r[o]}return i},defaultMargin:null};zr.default=Vr;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.install=function(t){t.usePlugin(Nr.default),t.usePlugin(Ur.default),t.usePlugin(Xr.default),t.usePlugin(Yr.default)},Object.defineProperty(Lr,"drag",{enumerable:!0,get:function(){return Xr.default}}),Object.defineProperty(Lr,"drop",{enumerable:!0,get:function(){return Yr.default}}),Object.defineProperty(Lr,"gesture",{enumerable:!0,get:function(){return Nr.default}}),Object.defineProperty(Lr,"resize",{enumerable:!0,get:function(){return Ur.default}}),Lr.id=void 0;var Xr=Hr(Vn),Yr=Hr(ur),Nr=Hr(wr),Ur=Hr(zr);function Hr(t){return t&&t.__esModule?t:{default:t}}Lr.id="actions";var Gr={};function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.getContainer=ni,Gr.getScroll=ri,Gr.getScrollSize=function(t){return Jr.window(t)&&(t=window.document.body),{x:t.scrollWidth,y:t.scrollHeight}},Gr.getScrollSizeDelta=function(t,e){var n=t.interaction,r=t.element,i=n&&n.interactable.options[n.prepared.name].autoScroll;if(!i||!i.enabled)return e(),{x:0,y:0};var o=ni(i.container,n.interactable,r),u=ri(o);e();var a=ri(o);return{x:a.x-u.x,y:a.y-u.y}},Gr.default=void 0;var qr,Kr=ti(T),Jr=ti(y),Qr=(qr=Qt)&&qr.__esModule?qr:{default:qr};function Zr(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Zr=function(){return t},t}function ti(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Br(t)&&"function"!=typeof t)return{default:t};var e=Zr();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var ei={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){ei.isScrolling=!0,Qr.default.cancel(ei.i),(t.autoScroll=ei).interaction=t,ei.prevTime=ei.now(),ei.i=Qr.default.request(ei.scroll)},stop:function(){ei.isScrolling=!1,ei.interaction&&(ei.interaction.autoScroll=null),Qr.default.cancel(ei.i)},scroll:function(){var t=ei.interaction,e=t.interactable,n=t.element,r=e.options[t.prepared.name].autoScroll,i=ni(r.container,e,n),o=ei.now(),u=r.speed*((o-ei.prevTime)/1e3);if(1<=u){var a={x:ei.x*u,y:ei.y*u};if(a.x||a.y){var s=ri(i);Jr.window(i)?i.scrollBy(a.x,a.y):i&&(i.scrollLeft+=a.x,i.scrollTop+=a.y);var c=ri(i),l={x:c.x-s.x,y:c.y-s.y};(l.x||l.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:l,interaction:t,container:i})}ei.prevTime=o}ei.isScrolling&&(Qr.default.cancel(ei.i),ei.i=Qr.default.request(ei.scroll))},check:function(t,e){var n=t.options;return n[e].autoScroll&&n[e].autoScroll.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&ei.check(e.interactable,e.prepared.name))if(e.simulation)ei.x=ei.y=0;else{var r,i,o,u,a=e.interactable,s=a.options[e.prepared.name].autoScroll,c=ni(s.container,a,e.element);if(Jr.window(c))u=n.clientX<ei.margin,r=n.clientY<ei.margin,i=n.clientX>c.innerWidth-ei.margin,o=n.clientY>c.innerHeight-ei.margin;else{var l=Kr.getElementClientRect(c);u=n.clientX<l.left+ei.margin,r=n.clientY<l.top+ei.margin,i=n.clientX>l.right-ei.margin,o=n.clientY>l.bottom-ei.margin}ei.x=i?1:u?-1:0,ei.y=o?1:r?-1:0,ei.isScrolling||(ei.margin=s.margin,ei.speed=s.speed,ei.start(e))}}};function ni(t,e,n){return(Jr.string(t)?(0,vt.getStringOptionResult)(t,e,n):t)||(0,f.getWindow)(n)}function ri(t){return Jr.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}Gr.default={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;(t.autoScroll=ei).now=function(){return t.now()},n.eventTypes.push("autoscroll"),e.perAction.autoScroll=ei.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,ei.stop(),ei.interaction&&(ei.interaction=null)},"interactions:stop":ei.stop,"interactions:action-move":function(t){return ei.onInteractionMove(t)}}};var ii={};function oi(t){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ii,"__esModule",{value:!0}),ii.default=void 0;var ui=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==oi(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(y);function ai(t){return ui.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function si(t){return ui.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}ii.default={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(e,n,r,i){var o,u,a,s,c,l,f,v=(u=n,a=r,c=t,l=(o=this).getRect(s=i),c.fire("auto-start:check",f={action:null,interactable:o,interaction:a,element:s,rect:l,buttons:u.buttons||{0:1,1:4,3:8,4:16}[u.button]}),f.action);return this.options.actionChecker?this.options.actionChecker(e,n,v,this,i,r):v},e.prototype.ignoreFrom=(0,ne.warnOnce)((function(t){return this._backCompatOption("ignoreFrom",t)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=(0,ne.warnOnce)((function(t){return this._backCompatOption("allowFrom",t)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=si,e.prototype.styleCursor=ai}};var ci={};function li(t){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ci,"__esModule",{value:!0}),ci.default=void 0;var fi,vi=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==li(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(ne),hi=(fi=ii)&&fi.__esModule?fi:{default:fi};function di(t,e,n,r,i){return e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&mi(e,n,t,i)?t:null}function bi(t,e,n,r,i,o,u){for(var a=0,s=r.length;a<s;a++){var c=r[a],l=i[a],f=c.getAction(e,n,t,l);if(f){var v=di(f,c,l,o,u);if(v)return{action:v,interactable:c,element:l}}}return{action:null,interactable:null,element:null}}function pi(t,e,n,r,i){var o=[],u=[],a=r;function s(t){o.push(t),u.push(a)}for(;vi.is.element(a);){o=[],u=[],i.interactables.forEachMatch(a,s);var c=bi(t,e,n,o,u,r,i);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;a=vi.dom.parentNode(a)}return{action:null,interactable:null,element:null}}function yi(t,e,n){var r=e.action,i=e.interactable,o=e.element;r=r||{name:null},t.interactable=i,t.element=o,vi.copyAction(t.prepared,r),t.rect=i&&r.name?i.getRect(o):null,ji(t,n),n.fire("autoStart:prepared",{interaction:t})}function mi(t,e,n,r){var i=t.options,o=i[n.name].max,u=i[n.name].maxPerElement,a=r.autoStart.maxInteractions,s=0,c=0,l=0;if(!(o&&u&&a))return!1;for(var f=0;f<r.interactions.list.length;f++){var v=r.interactions.list[f],h=v.prepared.name;if(v.interacting()){if(a<=++s)return!1;if(v.interactable===t){if(o<=(c+=h===n.name?1:0))return!1;if(v.element===e&&(l++,h===n.name&&u<=l))return!1}}}return 0<a}function gi(t,e){return vi.is.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function wi(t,e,n){var r=n.autoStart.cursorElement;r&&r!==t&&(r.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function ji(t,e){var n=t.interactable,r=t.element,i=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var o="";if(i.name){var u=n.options[i.name].cursorChecker;o=vi.is.func(u)?u(i,n,r,t._interacting):e.actions[i.name].getCursor(i)}wi(t.element,o||"",e)}else e.autoStart.cursorElement&&wi(e.autoStart.cursorElement,"",e)}ci.default={id:"auto-start/base",before:["actions","action/drag","actions/resize","actions/gesture"],install:function(t){var e=t.interact,n=t.defaults;t.usePlugin(hi.default),n.base.actionChecker=null,n.base.styleCursor=!0,vi.extend(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return gi(e,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:mi,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;n.interacting()||yi(n,pi(n,r,i,o,e),e)},"interactions:move":function(t,e){var n,r,i,o,u,a;r=e,i=(n=t).interaction,o=n.pointer,u=n.event,a=n.eventTarget,"mouse"!==i.pointerType||i.pointerIsDown||i.interacting()||yi(i,pi(i,o,u,a,r),r),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire("autoStart:before-start",t);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!mi(r,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,r,n.element),ji(n,e)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,r=n.interactable;r&&r.options.styleCursor&&wi(n.element,"",e)}},maxInteractions:gi,withinInteractionLimit:mi,validateAction:di};var Oi={};function Si(t){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.default=void 0;var xi,Mi=e({}),ki=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Si(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(y),_i=(xi=ci)&&xi.__esModule?xi:{default:xi};Oi.default={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,r=t.eventTarget,i=t.dy;if("drag"===n.prepared.name){var o=Math.abs(t.dx),u=Math.abs(i),a=n.interactable.options.drag,s=a.startAxis,c=u<o?"x":o<u?"y":"xy";if(n.prepared.axis="start"===a.lockAxis?c[0]:a.lockAxis,"xy"!=c&&"xy"!==s&&s!==c){function l(t){if(t!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&t.testIgnoreAllow(i,f,r)){var o=t.getAction(n.downPointer,n.downEvent,n,f);if(o&&o.name===Mi.ActionName.Drag&&function(t,e){if(!e)return!1;var n=e.options[Mi.ActionName.Drag].startAxis;return"xy"===t||"xy"===n||n===t}(c,t)&&_i.default.validateAction(o,t,f,r,e))return t}}}n.prepared.name=null;for(var f=r;ki.element(f);){var v=e.interactables.forEachMatch(f,l);if(v){n.prepared.name=Mi.ActionName.Drag,n.interactable=v,n.element=f;break}f=(0,T.parentNode)(f)}}}}}};var zi={};Object.defineProperty(zi,"__esModule",{value:!0}),zi.default=void 0;var Ei,Ci=(Ei=ci)&&Ei.__esModule?Ei:{default:Ei};function Ti(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}zi.default={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(Ci.default),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=Ti(e);0<n&&(e.autoStartHoldTimer=setTimeout((function(){e.start(e.prepared,e.interactable,e.element)}),n))},"interactions:move":function(t){var e=t.interaction;e.pointerWasMoved&&!t.duplicate&&clearTimeout(e.autoStartHoldTimer)},"autoStart:before-start":function(t){var e=t.interaction;0<Ti(e)&&(e.prepared.name=null)}},getHoldDuration:Ti};var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.install=function(t){t.usePlugin(Wi.default),t.usePlugin(Di.default),t.usePlugin(Ii.default)},Object.defineProperty(Pi,"autoStart",{enumerable:!0,get:function(){return Wi.default}}),Object.defineProperty(Pi,"dragAxis",{enumerable:!0,get:function(){return Ii.default}}),Object.defineProperty(Pi,"hold",{enumerable:!0,get:function(){return Di.default}}),Pi.id=void 0;var Wi=Ri(ci),Ii=Ri(Oi),Di=Ri(zi);function Ri(t){return t&&t.__esModule?t:{default:t}}Pi.id="auto-start";var Ai={};function Fi(t){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.install=Ni,Ai.default=void 0;var $i,Vi=($i=xt)&&$i.__esModule?$i:{default:$i},Li=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Fi(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(y);function Xi(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):Li.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function Yi(t){var e=t.interaction;e.interactable&&e.interactable.checkAndPreventDefault(t.event)}function Ni(t){var e=t.Interactable;e.prototype.preventDefault=Xi,e.prototype.checkAndPreventDefault=function(e){return function(t,e,n){var r=t.options.preventDefault;if("never"!==r)if("always"!==r){if(Vi.default.supportsPassive&&/^touch(start|move)$/.test(n.type)){var i=(0,f.getWindow)(n.target).document,o=e.getDocOptions(i);if(!o||!o.events||!1!==o.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||Li.element(n.target)&&(0,T.matchesSelector)(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}else n.preventDefault()}(this,t,e)},t.interactions.docEvents.push({type:"dragstart",listener:function(e){for(var n=0;n<t.interactions.list.length;n++){var r=t.interactions.list[n];if(r.element&&(r.element===e.target||(0,T.nodeContains)(r.element,e.target)))return void r.interactable.checkAndPreventDefault(e)}}})}var Ui={id:"core/interactablePreventDefault",install:Ni,listeners:["down","move","up","cancel"].reduce((function(t,e){return t["interactions:".concat(e)]=Yi,t}),{})};Ai.default=Ui;var Hi,Gi,Bi={};function qi(t){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.default=void 0,function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==qi(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n)}(y),(Gi=Hi=Hi||{}).touchAction="touchAction",Gi.boxSizing="boxSizing",Gi.noListeners="noListeners",Bi.default={id:"dev-tools",install:function(){}};var Ki={};function Ji(t){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.startAll=ro,Ki.setAll=io,Ki.prepareStates=ao,Ki.setCoords=so,Ki.restoreCoords=co,Ki.shouldDo=lo,Ki.getRectOffset=fo,Ki.makeModifier=function(t,e){function n(t){var n=t||{};for(var o in n.enabled=!1!==n.enabled,r)o in n||(n[o]=r[o]);return{options:n,methods:i,name:e}}var r=t.defaults,i={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop};return e&&"string"==typeof e&&(n._defaults=r,n._methods=i),n},Ki.default=void 0;var Qi,Zi=(Qi=ft)&&Qi.__esModule?Qi:{default:Qi},to=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ji(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(vt);function eo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function no(t,e,n,r){var i=t.interaction,o=t.phase,u=i.interactable,a=i.element,s=i.edges,c=ao(function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n.filter((function(t){return!t.options||!1!==t.options.enabled})):["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(t){return!!t}))}(i)),l=(0,Zi.default)({},i.rect),f=fo(l,e);i.modifiers.startOffset=f,i.modifiers.startDelta={x:0,y:0};var v={interaction:i,interactable:u,element:a,pageCoords:e,phase:o,rect:l,edges:s,startOffset:f,states:c,preEnd:!1,requireEndOnly:!1,prevCoords:n,prevRect:r};return i.modifiers.states=c,i.modifiers.result=null,ro(v),i.modifiers.result=io(v)}function ro(t){for(var e=t.states,n=0;n<e.length;n++){var r=e[n];r.methods.start&&(t.state=r).methods.start(t)}t.interaction.edges=t.edges}function io(t){var e=t.prevCoords,n=t.prevRect,r=t.phase,i=t.preEnd,o=t.requireEndOnly,u=t.states,a=t.rect;t.coords=(0,Zi.default)({},t.pageCoords),t.rect=(0,Zi.default)({},a);for(var s={delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},coords:t.coords,rect:t.rect,eventProps:[],changed:!0},c=t.edges||{left:!0,right:!0,top:!0,bottom:!0},l=0;l<u.length;l++){var f=u[l],v=f.options,h=(0,Zi.default)({},t.coords),d=null;f.methods.set&&lo(v,i,o,r)&&(d=(t.state=f).methods.set(t),to.addEdges(c,t.rect,{x:t.coords.x-h.x,y:t.coords.y-h.y})),s.eventProps.push(d)}return s.delta.x=t.coords.x-t.pageCoords.x,s.delta.y=t.coords.y-t.pageCoords.y,s.rectDelta.left=t.rect.left-a.left,s.rectDelta.right=t.rect.right-a.right,s.rectDelta.top=t.rect.top-a.top,s.rectDelta.bottom=t.rect.bottom-a.bottom,s.changed=!e||e.x!==s.coords.x||e.y!==s.coords.y||!n||s.rect.left!==n.left||s.rect.right!==n.right||s.rect.top!==n.top||s.rect.bottom!==n.bottom,s}function oo(t){var e=t.interaction,n=t.phase,r=t.preEnd,i=t.skipModifiers,o=e.interactable,u=e.element,a=i?e.modifiers.states.slice(i):e.modifiers.states,s=io({interaction:e,interactable:o,element:u,preEnd:r,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page,prevCoords:t.prevCoords||(e.modifiers.result?e.modifiers.result.coords:null),rect:e.rect,edges:e.edges,prevRect:t.prevRect||(e.modifiers.result?e.modifiers.result.rect:null),states:a,requireEndOnly:!1});if(!(e.modifiers.result=s).changed&&e.interacting())return!1;if(t.modifiedCoords){var c=e.coords.cur.page,l=t.modifiedCoords.x-c.x,f=t.modifiedCoords.y-c.y;s.coords.x+=l,s.coords.y+=f,s.delta.x+=l,s.delta.y+=f}so(t)}function uo(t){var e=t.interaction,n=e.modifiers.states;if(n&&n.length){for(var r=(0,Zi.default)({states:n,interactable:e.interactable,element:e.element,rect:null},t),i=0;i<n.length;i++){var o=n[i];(r.state=o).methods.stop&&o.methods.stop(r)}t.interaction.modifiers.states=null,t.interaction.modifiers.endResult=null}}function ao(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r.options;i&&!1===i.enabled||e.push({options:i,methods:r.methods,index:n,name:r.name})}return e}function so(t){var e=t.interaction,n=e.coords.cur,r=e.coords.start,i=e.modifiers,o=i.result,u=i.startDelta,a=o.delta;"start"===t.phase&&(0,Zi.default)(e.modifiers.startDelta,o.delta);for(var s=0;s<[[r,u],[n,a]].length;s++){var c=eo([[r,u],[n,a]][s],2),l=c[0],f=c[1];l.page.x+=f.x,l.page.y+=f.y,l.client.x+=f.x,l.client.y+=f.y}var v=e.modifiers.result.rectDelta,h=t.rect||e.rect;h.left+=v.left,h.right+=v.right,h.top+=v.top,h.bottom+=v.bottom,h.width=h.right-h.left,h.height=h.bottom-h.top}function co(t){var e=t.interaction,n=e.coords,r=e.rect,i=e.modifiers;if(i.result){for(var o=i.result,u=o.rectDelta,a=[[n.start,i.startDelta],[n.cur,o.delta]],s=0;s<a.length;s++){var c=eo(a[s],2),l=c[0],f=c[1];l.page.x-=f.x,l.page.y-=f.y,l.client.x-=f.x,l.client.y-=f.y}r.left-=u.left,r.right-=u.right,r.top-=u.top,r.bottom-=u.bottom}}function lo(t,e,n,r){return t?!1!==t.enabled&&(e||!t.endOnly)&&(!n||t.endOnly||t.alwaysOnEnd)&&(t.setStart||"start"!==r):!n}function fo(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}function vo(t){var e=t.interaction.modifiers.result;e&&(t.iEvent.modifiers=e.eventProps)}Ki.default={id:"modifiers/base",install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){t.interaction.modifiers={startOffset:{left:0,right:0,top:0,bottom:0},states:null,result:null,endResult:null,startDelta:null}},"interactions:before-action-start":function(t){no(t,t.interaction.coords.start.page,null,null),so(t)},"interactions:after-action-start":co,"interactions:before-action-move":oo,"interactions:after-action-move":co,"interactions:action-resume":function(t){var e=t.interaction.modifiers.result,n=e.coords,r=e.rect;uo(t),no(t,t.interaction.coords.cur.page,n,r),oo(t)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event,r=e.modifiers.states;if(!t.noPreEnd&&r&&r.length)for(var i=!1,o=0;o<r.length;o++){var u=r[o],a=(t.state=u).options,s=u.methods,c=s.beforeEnd&&s.beforeEnd(t);if(c)return e.modifiers.endResult=c,!1;!i&&lo(a,!0,!0)&&(e.move({event:n,preEnd:!0}),i=!0)}},"interactions:action-start":vo,"interactions:action-move":vo,"interactions:action-end":vo,"interactions:stop":uo},before:["actions","action/drag","actions/resize","actions/gesture"]};var ho={};function bo(t){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ho,"__esModule",{value:!0}),ho.default=void 0;var po,yo=jo(Ki),mo=jo(ne),go=(po=Qt)&&po.__esModule?po:{default:po};function wo(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return wo=function(){return t},t}function jo(t){if(t&&t.__esModule)return t;if(null===t||"object"!==bo(t)&&"function"!=typeof t)return{default:t};var e=wo();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Oo(t,e){var n=ko(t),r=n.resistance,i=-Math.log(n.endSpeed/e.v0)/r;e.x0=t.prevEvent.page.x,e.y0=t.prevEvent.page.y,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-i)/r,e.modifiedYe=e.ye=(e.vy0-i)/r,e.te=i,e.lambda_v0=r/e.v0,e.one_ve_v0=1-n.endSpeed/e.v0}function So(t){Mo(t),mo.pointer.setCoordDeltas(t.coords.delta,t.coords.prev,t.coords.cur),mo.pointer.setCoordVelocity(t.coords.velocity,t.coords.delta);var e=t.inertia,n=ko(t).resistance,r=t._now()/1e3-e.t0;if(r<e.te){var i=1-(Math.exp(-n*r)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*i,e.sy=e.ye*i;else{var o=mo.getQuadraticCurvePoint(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,i);e.sx=o.x,e.sy=o.y}t.move({event:e.startEvent}),e.timeout=go.default.request((function(){return So(t)}))}else e.sx=e.modifiedXe,e.sy=e.modifiedYe,t.move({event:e.startEvent}),t.end(e.startEvent),e.active=!1,t.simulation=null;mo.pointer.copyCoords(t.coords.prev,t.coords.cur)}function xo(t){Mo(t);var e=t.inertia,n=t._now()-e.t0,r=ko(t).smoothEndDuration;n<r?(e.sx=mo.easeOutQuad(n,0,e.xe,r),e.sy=mo.easeOutQuad(n,0,e.ye,r),t.move({event:e.startEvent}),e.timeout=go.default.request((function(){return xo(t)}))):(e.sx=e.xe,e.sy=e.ye,t.move({event:e.startEvent}),t.end(e.startEvent),e.smoothEnd=e.active=!1,t.simulation=null)}function Mo(t){var e=t.inertia;if(e.active){var n=e.upCoords.page,r=e.upCoords.client;mo.pointer.setCoords(t.coords.cur,[{pageX:n.x+e.sx,pageY:n.y+e.sy,clientX:r.x+e.sx,clientY:r.y+e.sy}],t._now())}}function ko(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}yn.EventPhase.Resume="resume",yn.EventPhase.InertiaStart="inertiastart",ho.default={id:"inertia",install:function(t){var e=t.defaults;t.usePlugin(yo.default),e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){t.interaction.inertia={active:!1,smoothEnd:!1,allowResume:!1,upCoords:{},timeout:null}},"interactions:before-action-end":function(t,e){var n=t.interaction,r=t.event,i=t.noPreEnd,o=n.inertia;if(!n.interacting()||n.simulation&&n.simulation.active||i)return null;var u,a=ko(n),s=n._now(),c=n.coords.velocity.client,l=mo.hypot(c.x,c.y),f=!1,v=a&&a.enabled&&"gesture"!==n.prepared.name&&r!==o.startEvent,h=v&&s-n.coords.cur.timeStamp<50&&l>a.minSpeed&&l>a.endSpeed,d={interaction:n,interactable:n.interactable,element:n.element,rect:n.rect,edges:n.edges,pageCoords:n.coords.cur.page,states:v&&n.modifiers.states.map((function(t){return mo.extend({},t)})),preEnd:!0,prevCoords:null,prevRect:null,requireEndOnly:null,phase:yn.EventPhase.InertiaStart};return v&&!h&&(d.prevCoords=n.modifiers.result.coords,d.prevRect=n.modifiers.result.rect,d.requireEndOnly=!1,f=(u=yo.setAll(d)).changed),h||f?(mo.pointer.copyCoords(o.upCoords,n.coords.cur),yo.setCoords(d),n.pointers[0].pointer=o.startEvent=new e.InteractEvent(n,r,n.prepared.name,yn.EventPhase.InertiaStart,n.element),yo.restoreCoords(d),o.t0=s,o.active=!0,o.allowResume=a.allowResume,n.simulation=o,n.interactable.fire(o.startEvent),h?(o.vx0=n.coords.velocity.client.x,o.vy0=n.coords.velocity.client.y,o.v0=l,Oo(n,o),mo.extend(d.pageCoords,n.coords.cur.page),d.pageCoords.x+=o.xe,d.pageCoords.y+=o.ye,d.prevCoords=null,d.prevRect=null,d.requireEndOnly=!0,u=yo.setAll(d),o.modifiedXe+=u.delta.x,o.modifiedYe+=u.delta.y,o.timeout=go.default.request((function(){return So(n)}))):(o.smoothEnd=!0,o.xe=u.delta.x,o.ye=u.delta.y,o.sx=o.sy=0,o.timeout=go.default.request((function(){return xo(n)}))),!1):null},"interactions:down":function(t,e){var n=t.interaction,r=t.event,i=t.pointer,o=t.eventTarget,u=n.inertia;if(u.active)for(var a=o;mo.is.element(a);){if(a===n.element){go.default.cancel(u.timeout),u.active=!1,n.simulation=null,n.updatePointer(i,r,o,!0),mo.pointer.setCoords(n.coords.cur,n.pointers.map((function(t){return t.pointer})),n._now()),e.fire("interactions:action-resume",{interaction:n,phase:yn.EventPhase.Resume});var s=new e.InteractEvent(n,r,n.prepared.name,yn.EventPhase.Resume,n.element);n._fireEvent(s),mo.pointer.copyCoords(n.coords.prev,n.coords.cur);break}a=mo.dom.parentNode(a)}},"interactions:stop":function(t){var e=t.interaction,n=e.inertia;n.active&&(go.default.cancel(n.timeout),n.active=!1,e.simulation=null)}},before:["modifiers/base"],calcInertia:Oo,inertiaTick:So,smothEndTick:xo,updateInertiaCoords:Mo};var _o={};Object.defineProperty(_o,"__esModule",{value:!0}),_o.default=void 0;var zo,Eo=(zo=ft)&&zo.__esModule?zo:{default:zo};function Co(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Co(Object(n),!0).forEach((function(e){Po(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Po(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wo(t,e,n){var r=t.startCoords,i=t.edgeSign;e?n.y=r.y+(n.x-r.x)*i:n.x=r.x+(n.y-r.y)*i}function Io(t,e,n,r){var i=t.startRect,o=t.startCoords,u=t.ratio,a=t.edgeSign;e?n.y=o.y+(r.width/u-i.height)*a:n.x=o.x+(r.height*u-i.width)*a}_o.default={start:function(t){var e=t.state,n=t.rect,r=t.edges,i=e.options.ratio,o=e.options,u=o.equalDelta,a=o.modifiers;"preserve"===i&&(i=n.width/n.height),e.startCoords=(0,Eo.default)({},t.pageCoords),e.startRect=(0,Eo.default)({},n),e.ratio=i,e.equalDelta=u;var s=e.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(e.xIsPrimaryAxis=!(!r.left&&!r.right),e.edgeSign=e.equalDelta?(s.left?1:-1)*(s.top?1:-1):(e.xIsPrimaryAxis?s.top:s.left)?-1:1,(0,Eo.default)(t.edges,s),a&&a.length)return e.subStates=(0,Ki.prepareStates)(a).map((function(t){return t.options=To({},t.options),t})),(0,Ki.startAll)(To({},t,{states:e.subStates}))},set:function(t){var e=t.state,n=t.rect,r=t.coords,i=(0,Eo.default)({},r),o=e.equalDelta?Wo:Io;if(o(e,e.xIsPrimaryAxis,r,n),!e.subStates)return null;var u=(0,Eo.default)({},n);(0,vt.addEdges)(e.linkedEdges,u,{x:r.x-i.x,y:r.y-i.y});var a=(0,Ki.setAll)(To({},t,{rect:u,edges:e.linkedEdges,pageCoords:r,states:e.subStates,prevCoords:r,prevRect:u})),s=a.delta;return a.changed&&(o(e,Math.abs(s.x)>Math.abs(s.y),a.coords,a.rect),(0,Eo.default)(r,a.coords)),a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};var Do={};function Ro(t){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Do,"__esModule",{value:!0}),Do.getRestrictionRect=Yo,Do.default=void 0;var Ao,Fo=(Ao=ft)&&Ao.__esModule?Ao:{default:Ao},$o=Xo(y),Vo=Xo(vt);function Lo(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Lo=function(){return t},t}function Xo(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ro(t)&&"function"!=typeof t)return{default:t};var e=Lo();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Yo(t,e,n){return $o.func(t)?Vo.resolveRectLike(t,e.interactable,e.element,[n.x,n.y,e]):Vo.resolveRectLike(t,e.interactable,e.element)}Do.default={start:function(t){var e=t.rect,n=t.startOffset,r=t.state,i=t.interaction,o=t.pageCoords,u=r.options,a=u.elementRect,s=(0,Fo.default)({left:0,top:0,right:0,bottom:0},u.offset||{});if(e&&a){var c=Yo(u.restriction,i,o);if(c){var l=c.right-c.left-e.width,f=c.bottom-c.top-e.height;l<0&&(s.left+=l,s.right+=l),f<0&&(s.top+=f,s.bottom+=f)}s.left+=n.left-e.width*a.left,s.top+=n.top-e.height*a.top,s.right+=n.right-e.width*(1-a.right),s.bottom+=n.bottom-e.height*(1-a.bottom)}r.offset=s},set:function(t){var e=t.coords,n=t.state,r=n.offset,i=Yo(n.options.restriction,t.interaction,e);if(i){var o=Vo.xywhToTlbr(i);e.x=Math.max(Math.min(o.right-r.right,e.x),o.left+r.left),e.y=Math.max(Math.min(o.bottom-r.bottom,e.y),o.top+r.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};var No={};function Uo(t){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(No,"__esModule",{value:!0}),No.default=void 0;var Ho,Go=(Ho=ft)&&Ho.__esModule?Ho:{default:Ho},Bo=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Uo(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(vt),qo={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ko={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Jo(t,e){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var i=n[r];i in t||(t[i]=e[i])}return t}No.default={noInner:qo,noOuter:Ko,start:function(t){var e,n=t.interaction,r=t.startOffset,i=t.state,o=i.options;if(o){var u=(0,Do.getRestrictionRect)(o.offset,n,n.coords.start.page);e=Bo.rectToXY(u)}i.offset={top:(e=e||{x:0,y:0}).y+r.top,left:e.x+r.left,bottom:e.y-r.bottom,right:e.x-r.right}},set:function(t){var e=t.coords,n=t.edges,r=t.interaction,i=t.state,o=i.offset,u=i.options;if(n){var a=(0,Go.default)({},e),s=(0,Do.getRestrictionRect)(u.inner,r,a)||{},c=(0,Do.getRestrictionRect)(u.outer,r,a)||{};Jo(s,qo),Jo(c,Ko),n.top?e.y=Math.min(Math.max(c.top+o.top,a.y),s.top+o.top):n.bottom&&(e.y=Math.max(Math.min(c.bottom+o.bottom,a.y),s.bottom+o.bottom)),n.left?e.x=Math.min(Math.max(c.left+o.left,a.x),s.left+o.left):n.right&&(e.x=Math.max(Math.min(c.right+o.right,a.x),s.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.default=void 0;var Zo=eu(ft),tu=eu(Do);function eu(t){return t&&t.__esModule?t:{default:t}}var nu=(0,Zo.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},tu.default.defaults);Qo.default={start:tu.default.start,set:tu.default.set,defaults:nu};var ru={};function iu(t){return(iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ru,"__esModule",{value:!0}),ru.default=void 0;var ou=su(ft),uu=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==iu(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(vt),au=su(No);function su(t){return t&&t.__esModule?t:{default:t}}var cu={width:-1/0,height:-1/0},lu={width:1/0,height:1/0};ru.default={start:function(t){return au.default.start(t)},set:function(t){var e=t.interaction,n=t.state,r=t.rect,i=t.edges,o=n.options;if(i){var u=uu.tlbrToXywh((0,Do.getRestrictionRect)(o.min,e,t.coords))||cu,a=uu.tlbrToXywh((0,Do.getRestrictionRect)(o.max,e,t.coords))||lu;n.options={endOnly:o.endOnly,inner:(0,ou.default)({},au.default.noInner),outer:(0,ou.default)({},au.default.noOuter)},i.top?(n.options.inner.top=r.bottom-u.height,n.options.outer.top=r.bottom-a.height):i.bottom&&(n.options.inner.bottom=r.top+u.height,n.options.outer.bottom=r.top+a.height),i.left?(n.options.inner.left=r.right-u.width,n.options.outer.left=r.right-a.width):i.right&&(n.options.inner.right=r.left+u.width,n.options.outer.right=r.left+a.width),au.default.set(t),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};var fu={};function vu(t){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(fu,"__esModule",{value:!0}),fu.default=void 0;var hu=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==vu(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(ne);fu.default={start:function(t){var e,n,r,i=t.interaction,o=t.interactable,u=t.element,a=t.rect,s=t.state,c=t.startOffset,l=s.options,f=l.offsetWithOrigin?(n=(e=t).interaction.element,hu.rect.rectToXY(hu.rect.resolveRectLike(e.state.options.origin,null,null,[n]))||hu.getOriginXY(e.interactable,n,e.interaction.prepared.name)):{x:0,y:0};if("startCoords"===l.offset)r={x:i.coords.start.page.x,y:i.coords.start.page.y};else{var v=hu.rect.resolveRectLike(l.offset,o,u,[i]);(r=hu.rect.rectToXY(v)||{x:0,y:0}).x+=f.x,r.y+=f.y}var h=l.relativePoints;s.offsets=a&&h&&h.length?h.map((function(t,e){return{index:e,relativePoint:t,x:c.left-a.width*t.x+r.x,y:c.top-a.height*t.y+r.y}})):[hu.extend({index:0,relativePoint:null},r)]},set:function(t){var e=t.interaction,n=t.coords,r=t.state,i=r.options,o=r.offsets,u=hu.getOriginXY(e.interactable,e.element,e.prepared.name),a=hu.extend({},n),s=[];i.offsetWithOrigin||(a.x-=u.x,a.y-=u.y);for(var c=0;c<o.length;c++)for(var l=o[c],f=a.x-l.x,v=a.y-l.y,h=0,d=i.targets.length;h<d;h++){var b,p=i.targets[h];(b=hu.is.func(p)?p(f,v,e,l,h):p)&&s.push({x:(hu.is.number(b.x)?b.x:f)+l.x,y:(hu.is.number(b.y)?b.y:v)+l.y,range:hu.is.number(b.range)?b.range:i.range,source:p,index:h,offset:l})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},m=0;m<s.length;m++){var g=s[m],w=g.range,j=g.x-a.x,O=g.y-a.y,S=hu.hypot(j,O),x=S<=w;w===1/0&&y.inRange&&y.range!==1/0&&(x=!1),y.target&&!(x?y.inRange&&w!==1/0?S/w<y.distance/y.range:w===1/0&&y.range!==1/0||S<y.distance:!y.inRange&&S<y.distance)||(y.target=g,y.distance=S,y.range=w,y.inRange=x,y.delta.x=j,y.delta.y=O)}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),r.closest=y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};var du={};function bu(t){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(du,"__esModule",{value:!0}),du.default=void 0;var pu=gu(ft),yu=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==bu(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(y),mu=gu(fu);function gu(t){return t&&t.__esModule?t:{default:t}}function wu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}du.default={start:function(t){var e=t.state,n=t.edges,r=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],mu.default.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,r=t.coords,i=n.options,o=n.offsets,u={x:r.x-o[0].x,y:r.y-o[0].y};n.options=(0,pu.default)({},i),n.options.targets=[];for(var a=0;a<(i.targets||[]).length;a++){var s=(i.targets||[])[a],c=void 0;if(c=yu.func(s)?s(u.x,u.y,e):s){for(var l=0;l<n.targetFields.length;l++){var f=wu(n.targetFields[l],2),v=f[0],h=f[1];if(v in c||h in c){c.x=c[v],c.y=c[h];break}}n.options.targets.push(c)}}var d=mu.default.set(t);return n.options=i,d},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};var ju={};Object.defineProperty(ju,"__esModule",{value:!0}),ju.default=void 0;var Ou=Mu(mt),Su=Mu(ft),xu=Mu(du);function Mu(t){return t&&t.__esModule?t:{default:t}}var ku={start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],xu.default.start(t)):null},set:xu.default.set,defaults:(0,Su.default)((0,Ou.default)(xu.default.defaults),{offset:{x:0,y:0}})};ju.default=ku;var _u={};Object.defineProperty(_u,"__esModule",{value:!0}),_u.aspectRatio=_u.restrictSize=_u.restrictEdges=_u.restrictRect=_u.restrict=_u.snapEdges=_u.snapSize=_u.snap=void 0;var zu=Ru(_o),Eu=Ru(No),Cu=Ru(Do),Tu=Ru(Qo),Pu=Ru(ru),Wu=Ru(ju),Iu=Ru(fu),Du=Ru(du);function Ru(t){return t&&t.__esModule?t:{default:t}}var Au=(0,Ki.makeModifier)(Iu.default,"snap");_u.snap=Au;var Fu=(0,Ki.makeModifier)(Du.default,"snapSize");_u.snapSize=Fu;var $u=(0,Ki.makeModifier)(Wu.default,"snapEdges");_u.snapEdges=$u;var Vu=(0,Ki.makeModifier)(Cu.default,"restrict");_u.restrict=Vu;var Lu=(0,Ki.makeModifier)(Tu.default,"restrictRect");_u.restrictRect=Lu;var Xu=(0,Ki.makeModifier)(Eu.default,"restrictEdges");_u.restrictEdges=Xu;var Yu=(0,Ki.makeModifier)(Pu.default,"restrictSize");_u.restrictSize=Yu;var Nu=(0,Ki.makeModifier)(zu.default,"aspectRatio");_u.aspectRatio=Nu;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.PointerEvent=Uu.default=void 0;var Hu,Gu=(Hu=fn)&&Hu.__esModule?Hu:{default:Hu},Bu=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==qu(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(B);function qu(t){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ku(t){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ju(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qu(t,e){return(Qu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ta=function(){function t(e,n,r,i,o,u){var a,s;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a=!(s=Ku(t).call(this,o))||"object"!==qu(s)&&"function"!=typeof s?Ju(this):s,Zu(Ju(a),"type",void 0),Zu(Ju(a),"originalEvent",void 0),Zu(Ju(a),"pointerId",void 0),Zu(Ju(a),"pointerType",void 0),Zu(Ju(a),"double",void 0),Zu(Ju(a),"pageX",void 0),Zu(Ju(a),"pageY",void 0),Zu(Ju(a),"clientX",void 0),Zu(Ju(a),"clientY",void 0),Zu(Ju(a),"dt",void 0),Zu(Ju(a),"eventable",void 0),Bu.pointerExtend(Ju(a),r),r!==n&&Bu.pointerExtend(Ju(a),n),a.timeStamp=u,a.originalEvent=r,a.type=e,a.pointerId=Bu.getPointerId(n),a.pointerType=Bu.getPointerType(n),a.target=i,a.currentTarget=null,"tap"===e){var c=o.getPointerIndex(n);a.dt=a.timeStamp-o.pointers[c].downTime,a.double=!!(o.prevTap&&"doubletap"!==o.prevTap.type&&o.prevTap.target===a.target&&a.timeStamp-o.tapTime<500)}else"doubletap"===e&&(a.dt=n.timeStamp-o.tapTime);return a}var e;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qu(t,e)}(t,Gu.default),(e=[{key:"_subtractOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this}},{key:"_addOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();Uu.PointerEvent=Uu.default=ta;var ea={};function na(t){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ea,"__esModule",{value:!0}),ea.default=void 0,oa(r({})),e({});var ra=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==na(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(ne),ia=oa(Uu);function oa(t){return t&&t.__esModule?t:{default:t}}var ua={id:"pointer-events/base",install:function(t){t.pointerEvents=ua,t.defaults.actions.pointerEvents=ua.defaults},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.pointerInfo;!t.down&&e.hold||(e.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,u=t.duplicate,a=n.getPointerIndex(r);u||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&clearTimeout(n.pointers[a].hold.timeout),aa({interaction:n,pointer:r,event:i,eventTarget:o,type:"move"},e))},"interactions:down":function(t,e){!function(t,e){for(var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,u=n.pointers[t.pointerIndex].hold,a=ra.dom.getPath(o),s={interaction:n,pointer:r,event:i,eventTarget:o,type:"hold",targets:[],path:a,node:null},c=0;c<a.length;c++)s.node=a[c],e.fire("pointerEvents:collect-targets",s);if(s.targets.length){for(var l=1/0,f=0;f<s.targets.length;f++){var v=s.targets[f].eventable.options.holdDuration;v<l&&(l=v)}u.duration=l,u.timeout=setTimeout((function(){aa({interaction:n,eventTarget:o,pointer:r,event:i,type:"hold"},e)}),l)}}(t,e),aa(t,e)},"interactions:up":function(t,e){var n,r;ca(t),aa(t,e),(r=(n=t).interaction).pointerWasMoved||aa({interaction:r,eventTarget:n.eventTarget,pointer:n.pointer,event:n.event,type:"tap"},e)},"interactions:cancel":function(t,e){ca(t),aa(t,e)}},PointerEvent:ia.default,fire:aa,collectEventTargets:sa,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:["down","move","up","cancel","tap","doubletap","hold"]};function aa(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,u=t.type,a=t.targets,s=void 0===a?sa(t,e):a,c=new ia.default(u,r,i,o,n,e.now());e.fire("pointerEvents:new",{pointerEvent:c});for(var l={interaction:n,pointer:r,event:i,eventTarget:o,targets:s,type:u,pointerEvent:c},f=0;f<s.length;f++){var v=s[f];for(var h in v.props||{})c[h]=v.props[h];var d=ra.getOriginXY(v.eventable,v.node);if(c._subtractOrigin(d),c.eventable=v.eventable,c.currentTarget=v.node,v.eventable.fire(c),c._addOrigin(d),c.immediatePropagationStopped||c.propagationStopped&&f+1<s.length&&s[f+1].node!==c.currentTarget)break}if(e.fire("pointerEvents:fired",l),"tap"===u){var b=c.double?aa({interaction:n,pointer:r,event:i,eventTarget:o,type:"doubletap"},e):c;n.prevTap=b,n.tapTime=b.timeStamp}return c}function sa(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,u=t.type,a=n.getPointerIndex(r),s=n.pointers[a];if("tap"===u&&(n.pointerWasMoved||!s||s.downTarget!==o))return[];for(var c=ra.dom.getPath(o),l={interaction:n,pointer:r,event:i,eventTarget:o,type:u,path:c,targets:[],node:null},f=0;f<c.length;f++)l.node=c[f],e.fire("pointerEvents:collect-targets",l);return"hold"===u&&(l.targets=l.targets.filter((function(t){return t.eventable.options.holdDuration===n.pointers[a].hold.duration}))),l.targets}function ca(t){var e=t.interaction,n=t.pointerIndex;e.pointers[n].hold&&clearTimeout(e.pointers[n].hold.timeout)}ea.default=ua;var la={};Object.defineProperty(la,"__esModule",{value:!0}),la.default=void 0;var fa=function(t){return t&&t.__esModule?t:{default:t}}(ea);function va(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var ha={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(fa.default);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.push("holdrepeat")},listeners:["move","up","cancel","endall"].reduce((function(t,e){return t["pointerEvents:".concat(e)]=va,t}),{"pointerEvents:new":function(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,r=t.pointerEvent,i=t.eventTarget,o=t.targets;if("hold"===r.type&&o.length){var u=o[0].eventable.options.holdRepeatInterval;u<=0||(n.holdIntervalHandle=setTimeout((function(){e.pointerEvents.fire({interaction:n,eventTarget:i,type:"hold",pointer:r,event:r},e)}),u))}}})};la.default=ha;var da={};Object.defineProperty(da,"__esModule",{value:!0}),da.default=void 0;var ba,pa=(ba=ft)&&ba.__esModule?ba:{default:ba};function ya(t){return(0,pa.default)(this.events.options,t),this}da.default={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;(0,a.merge)(t.actions.eventTypes,t.pointerEvents.types),e.prototype.pointerEvents=ya;var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){var r=n.call(this,t,e);return r===this&&(this.events.options[t]=e),r}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,r=t.node,i=t.type,o=t.eventTarget;e.interactables.forEachMatch(r,(function(t){var e=t.events;e.types[i]&&e.types[i].length&&t.testIgnoreAllow(e.options,r,o)&&n.push({node:r,eventable:e,props:{interactable:t}})}))},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":function(t,e){var n=t.interactable,r=t.options;(0,pa.default)(n.events.options,e.pointerEvents.defaults),(0,pa.default)(n.events.options,r.pointerEvents||{})}}};var ma={};function ga(t){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ma,"__esModule",{value:!0}),ma.install=function(t){t.usePlugin(wa),t.usePlugin(ja.default),t.usePlugin(Oa.default)},Object.defineProperty(ma,"holdRepeat",{enumerable:!0,get:function(){return ja.default}}),Object.defineProperty(ma,"interactableTargets",{enumerable:!0,get:function(){return Oa.default}}),ma.pointerEvents=ma.id=void 0;var wa=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ga(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(ea);ma.pointerEvents=wa;var ja=Sa(la),Oa=Sa(da);function Sa(t){return t&&t.__esModule?t:{default:t}}ma.id="pointer-events";var xa={};function Ma(t){for(var e=t.actions,n=t.Interactable,r=0;r<e.names.length;r++)e.eventTypes.push("".concat(e.names[r],"reflow"));n.prototype.reflow=function(e){return function(t,e,n){function r(){var r=i[a],s=t.getRect(r);if(!s)return"break";var c=ne.arr.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===t&&n.element===r&&n.prepared.name===e.name})),l=void 0;if(c)c.move(),u&&(l=c._reflowPromise||new o((function(t){c._reflowResolve=t})));else{var f=ne.rect.tlbrToXywh(s),v={page:{x:f.x,y:f.y},client:{x:f.x,y:f.y},timeStamp:n.now()},h=ne.pointer.coordsToEvent(v);l=function(t,e,n,r,i){var o=t.interactions.new({pointerType:"reflow"}),u={interaction:o,event:i,pointer:i,eventTarget:n,phase:yn.EventPhase.Reflow};o.interactable=e,o.element=n,o.prepared=(0,ne.extend)({},r),o.prevEvent=i,o.updatePointer(i,i,n,!0),o._doPhase(u);var a=ne.win.window.Promise?new ne.win.window.Promise((function(t){o._reflowResolve=t})):null;return o._reflowPromise=a,o.start(r,e,n),o._interacting?(o.move(u),o.end(i)):o.stop(),o.removePointer(i,i),o.pointerIsDown=!1,a}(n,t,r,e,h)}u&&u.push(l)}for(var i=ne.is.string(t.target)?ne.arr.from(t._context.querySelectorAll(t.target)):[t.target],o=ne.win.window.Promise,u=o?[]:null,a=0;a<i.length&&"break"!==r();a++);return u&&o.all(u).then((function(){return t}))}(this,e,t)}}Object.defineProperty(xa,"__esModule",{value:!0}),xa.install=Ma,xa.default=void 0,r({});var ka={id:yn.EventPhase.Reflow="reflow",install:Ma,listeners:{"interactions:stop":function(t,e){var n=t.interaction;n.pointerType===yn.EventPhase.Reflow&&(n._reflowResolve&&n._reflowResolve(),ne.arr.remove(e.interactions.list,n))}}};xa.default=ka;var _a={};function za(t){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(_a,"__esModule",{value:!0}),_a.default=_a.scope=_a.interact=void 0;var Ea=e({}),Ca=Wa(x),Ta=Wa(xt),Pa=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==za(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(ne);function Wa(t){return t&&t.__esModule?t:{default:t}}var Ia={},Da=new Ea.Scope;function Ra(t,e){var n=Da.interactables.get(t,e);return n||((n=Da.interactables.new(t,e)).events.global=Ia),n}_a.scope=Da,(_a.interact=Ra).use=function(t,e){return Da.usePlugin(t,e),Ra},Ra.isSet=function(t,e){return!!Da.interactables.get(t,e&&e.context)},Ra.on=function(t,e,n){if(Pa.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),Pa.is.array(t)){for(var r=0;r<t.length;r++)Ra.on(t[r],e,n);return Ra}if(Pa.is.object(t)){for(var i in t)Ra.on(i,t[i],e);return Ra}return Pa.arr.contains(Da.actions.eventTypes,t)?Ia[t]?Ia[t].push(e):Ia[t]=[e]:Ta.default.add(Da.document,t,e,{options:n}),Ra},Ra.off=function(t,e,n){if(Pa.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),Pa.is.array(t)){for(var r=0;r<t.length;r++)Ra.off(t[r],e,n);return Ra}if(Pa.is.object(t)){for(var i in t)Ra.off(i,t[i],e);return Ra}var o;return Pa.arr.contains(Da.actions.eventTypes,t)?t in Ia&&-1!==(o=Ia[t].indexOf(e))&&Ia[t].splice(o,1):Ta.default.remove(Da.document,t,e,n),Ra},Ra.debug=function(){return Da},Ra.getPointerAverage=Pa.pointer.pointerAverage,Ra.getTouchBBox=Pa.pointer.touchBBox,Ra.getTouchDistance=Pa.pointer.touchDistance,Ra.getTouchAngle=Pa.pointer.touchAngle,Ra.getElementRect=Pa.dom.getElementRect,Ra.getElementClientRect=Pa.dom.getElementClientRect,Ra.matchesSelector=Pa.dom.matchesSelector,Ra.closest=Pa.dom.closest,Ra.supportsTouch=function(){return Ca.default.supportsTouch},Ra.supportsPointerEvent=function(){return Ca.default.supportsPointerEvent},Ra.stop=function(){for(var t=0;t<Da.interactions.list.length;t++)Da.interactions.list[t].stop();return Ra},Ra.pointerMoveTolerance=function(t){return Pa.is.number(t)?(Da.interactions.pointerMoveTolerance=t,Ra):Da.interactions.pointerMoveTolerance},Da.addListeners({"interactable:unset":function(t){var e=t.interactable;Da.interactables.list.splice(Da.interactables.list.indexOf(e),1);for(var n=0;n<Da.interactions.list.length;n++){var r=Da.interactions.list[n];r.interactable===e&&r.interacting()&&!r._ending&&r.stop()}}}),Ra.addDocument=function(t,e){return Da.addDocument(t,e)},Ra.removeDocument=function(t){return Da.removeDocument(t)};var Aa=Da.interact=Ra;_a.default=Aa;var Fa={};function $a(t){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.init=function(t){for(var e in qa.scope.init(t),qa.default.use(Ya.default),qa.default.use(Ga),qa.default.use(Na.default),qa.default.use(Ua.default),qa.default.use(Xa),qa.default.use(Va),Ha){var n=Ha[e],r=n._defaults;r._methods=n._methods,qa.scope.defaults.perAction[e]=r}return qa.default.use(La.default),qa.default.use(Ba.default),qa.default},Fa.default=void 0;var Va=Qa(Lr),La=Ka(Gr),Xa=Qa(Pi),Ya=Ka(Ai),Na=Ka(ho),Ua=Ka(Ki),Ha=Qa(_u),Ga=Qa(ma),Ba=Ka(xa),qa=Qa(_a);function Ka(t){return t&&t.__esModule?t:{default:t}}function Ja(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Ja=function(){return t},t}function Qa(t){if(t&&t.__esModule)return t;if(null===t||"object"!==$a(t)&&"function"!=typeof t)return{default:t};var e=Ja();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}qa.default.version="1.8.4",Fa.default=qa.default;var Za={};function ts(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(Za,"__esModule",{value:!0}),Za.default=void 0,Za.default=function(t){function e(e,r){for(var i=t.limits,o=void 0===i?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:i,u=t.offset,a=void 0===u?{x:0,y:0}:u,s={range:t.range,grid:t,x:null,y:null},c=0;c<n.length;c++){var l=ts(n[c],2),f=l[0],v=l[1],h=Math.round((e-a.x)/t[f]),d=Math.round((r-a.y)/t[v]);s[f]=Math.max(o.left,Math.min(o.right,h*t[f]+a.x)),s[v]=Math.max(o.top,Math.min(o.bottom,d*t[v]+a.y))}return s}var n=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(e){var n=ts(e,2);return n[0]in t||n[1]in t}));return e.grid=t,e.coordFields=n,e};var es={};Object.defineProperty(es,"__esModule",{value:!0}),Object.defineProperty(es,"grid",{enumerable:!0,get:function(){return rs.default}});var ns,rs=(ns=Za)&&ns.__esModule?ns:{default:ns},is={};Object.defineProperty(is,"__esModule",{value:!0}),is.init=hs,is.default=void 0;var os,us=fs(Fa),as=fs(_u),ss=(os=ft)&&os.__esModule?os:{default:os},cs=fs(es);function ls(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return ls=function(){return t},t}function fs(t){if(t&&t.__esModule)return t;if(null===t||"object"!==vs(t)&&"function"!=typeof t)return{default:t};var e=ls();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function vs(t){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hs(t){return(0,us.init)(t),us.default.use({id:"interactjs",install:function(){us.default.modifiers=(0,ss.default)({},as),us.default.snappers=cs,us.default.createSnapGrid=us.default.snappers.grid}})}"object"===("undefined"==typeof window?"undefined":vs(window))&&window&&hs(window),is.default=us.default;var ds={exports:{}};Object.defineProperty(ds.exports,"__esModule",{value:!0});var bs={};ds.exports.default=void 0;var ps=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ys(t)&&"function"!=typeof t)return{default:t};var e="function"!=typeof WeakMap?null:new WeakMap;if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(is);function ys(t){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if(Object.keys(ps).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(bs,t)||Object.defineProperty(ds.exports,t,{enumerable:!0,get:function(){return ps[t]}}))})),"object"===ys(ds)&&ds)try{ds.exports=ps.default}catch(t){}return ps.default.default=ps.default,ps.default.init=ps.init,ds.exports.default=ps.default,ds=ds.exports}()}));class dn{constructor(t,e,n){this.target=t,this.config=n,this.source=[],this.columns=e,this.resizeChange(n.canResize)}get columns(){return this.source}set columns(t){this.source=t}resizeChange(t=!1){this.destroy(),t&&hn(this.target).resizable({edges:{bottom:!1,right:!0},onend:t=>{const e=parseInt(t.target.getAttribute("data-col"),10);let n=t.rect.width;const r=this.columns[e].minSize||5;n<r&&(n=r),this.config.resize({[e]:n})}})}destroy(){hn(this.target).unset()}}const bn=class{constructor(t){n(this,t),this.headerClick=o(this,"headerClick",7),this.headerResize=o(this,"headerResize",7),this.parent="",this.groupingDepth=0}onResizeChanged(t){this.headerService.resizeChange(t)}colChanged(t){this.headerService.columns=t}connectedCallback(){this.headerService=new dn(this.parent+" .data-header-cell",this.colData,{canResize:this.canResize,resize:t=>this.headerResize.emit(t)})}disconnectedCallback(){var t;null===(t=this.headerService)||void 0===t||t.destroy()}render(){const t=[],e={};for(let i of this.cols){const n=this.colData[i.itemIndex];t.push(r("div",Object.assign({},{"data-col":i.itemIndex,class:"data-header-cell",style:{width:i.size+"px",transform:`translateX(${i.start}px)`},onClick:()=>this.headerClick.emit(this.colData[i.itemIndex])}),n.name)),e[n.prop]=i.itemIndex}const n=[];for(let i=0;i<this.groupingDepth;i++){if(this.groups[i])for(let t of this.groups[i]){const i=vn(t.ids,t=>"number"==typeof e[t]);if(i>-1){const o=e[t.ids[i]]-i,u=o+t.ids.length-1,a=Xe(this.dimensionCol.state,o).start,s=Xe(this.dimensionCol.state,u).end;n.push(r("div",Object.assign({},{class:"data-header-cell",style:{transform:`translateX(${a}px)`,width:s-a+"px"}}),t.name))}}n.push(r("div",{class:"header-row group"}))}return[r("div",{class:"group-row"},n),r("div",{class:"header-row"},t)]}get element(){return i(this)}static get watchers(){return{canResize:["onResizeChanged"],colData:["colChanged"]}}};function pn(t){return{x:parseInt(t.getAttribute("data-col"),10),y:parseInt(t.getAttribute("data-row"),10)}}var yn,mn,gn;!function(t){t[t.MOUSE_LEFT=1]="MOUSE_LEFT",t[t.MOUSE_RIGHT=3]="MOUSE_RIGHT",t[t.MOUSE_MIDDLE=2]="MOUSE_MIDDLE",t[t.BACKSPACE=8]="BACKSPACE",t[t.COMMA=188]="COMMA",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.END=35]="END",t[t.ENTER=13]="ENTER",t[t.ESCAPE=27]="ESCAPE",t[t.CONTROL=17]="CONTROL",t[t.COMMAND_LEFT=91]="COMMAND_LEFT",t[t.COMMAND_RIGHT=93]="COMMAND_RIGHT",t[t.COMMAND_FIREFOX=224]="COMMAND_FIREFOX",t[t.ALT=18]="ALT",t[t.HOME=36]="HOME",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.PAGE_UP=33]="PAGE_UP",t[t.PERIOD=190]="PERIOD",t[t.SPACE=32]="SPACE",t[t.SHIFT=16]="SHIFT",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.TAB=9]="TAB",t[t.ARROW_RIGHT=39]="ARROW_RIGHT",t[t.ARROW_LEFT=37]="ARROW_LEFT",t[t.ARROW_UP=38]="ARROW_UP",t[t.ARROW_DOWN=40]="ARROW_DOWN",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.A=65]="A",t[t.C=67]="C",t[t.D=68]="D",t[t.F=70]="F",t[t.L=76]="L",t[t.O=79]="O",t[t.P=80]="P",t[t.S=83]="S",t[t.V=86]="V",t[t.X=88]="X"}(yn||(yn={})),function(t){t.ENTER="Enter",t.ESCAPE="Escape",t.ARROW_RIGHT="ArrowRight",t.ARROW_LEFT="ArrowLeft",t.ARROW_UP="ArrowUp",t.ARROW_DOWN="ArrowDown",t.SHIFT="Shift"}(mn||(mn={}));class wn{constructor(t,e){this.target=t,this.config=e,hn(t).draggable({listeners:{start:t=>{wn.canRange&&e.focus(pn(t.currentTarget))}},cursorChecker:()=>"default"}).dropzone({ondrop:t=>wn.canRange&&e.range(pn(t.currentTarget),pn(t.relatedTarget)),ondragenter:t=>wn.canRange&&e.tempRange(pn(t.relatedTarget),pn(t.currentTarget))}).on("tap",t=>e.focus(pn(t.currentTarget),wn.canRange&&t.shiftKey))}keyDown(t){const e=wn.canRange&&t.shiftKey;switch(t.code){case mn.ARROW_UP:case mn.ARROW_DOWN:case mn.ARROW_LEFT:case mn.ARROW_RIGHT:t.preventDefault()}switch(t.code){case mn.ARROW_UP:this.config.change({y:-1},e);break;case mn.ARROW_DOWN:this.config.change({y:1},e);break;case mn.ARROW_LEFT:this.config.change({x:-1},e);break;case mn.ARROW_RIGHT:this.config.change({x:1},e)}}destroy(){hn(this.target).unset()}}function jn(t,e){const n=Object.assign({},t);let r=["x","y"];for(let i of r)t[i]<0&&(n[i]=0);for(let i of r)t[i]>=e[i]&&(n[i]=e[i]-1);return n}function On(t,e){return t&&e?{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x1:Math.max(t.x,e.x),y1:Math.max(t.y,e.y)}:null}wn.canRange=!1;class Sn{constructor(t,e,n){this.selectionStoreConnector=n,this.store=n.register(e.y,e.x),this.setLastCell(t)}get focused(){return this.store.get("focus")}get edited(){return this.store.get("edit")}setLastCell(t){Ce(this.store,{lastCell:t})}setRange(t,e){const n=On(t,e);Ce(this.store,{range:n,edit:null,tempRange:null})}setTempRange(t,e){Ce(this.store,{tempRange:On(t,e)}),Ce(this.store,{edit:null})}change(t,e=!1){this.selectionStoreConnector.change(t,e)}focus(t,e=!1){if(!t)return void this.selectionStoreConnector.clearFocus(this.store);let n=t;if(e){let t=this.store.get("focus");if(t)return void this.setRange(t,n)}this.selectionStoreConnector.focus(this.store,t,n)}destroy(){this.selectionStoreConnector.unregister(this.store)}}!function(t){t.mac="Mac"}(gn||(gn={}));const xn=class{constructor(t){n(this,t),this.parent=""}lastCellChanged(t){var e;null===(e=this.selectionStore)||void 0===e||e.setLastCell(t)}onDoubleClick(){this.canEdit()&&this.selectionStoreConnector.setEdit("")}handleKeyDown(t){if(this.selectionService.keyDown(t),this.selectionStore.edited){switch(t.code){case mn.ESCAPE:this.canEdit()&&this.selectionStoreConnector.setEdit(!1)}return}const e=mn.ENTER===t.code;var n;(32===(n=t.keyCode)||n>=48&&n<=57||n>=96&&n<=111||n>=186&&n<=192||n>=219&&n<=222||n>=226||n>=65&&n<=90||e)&&this.canEdit()&&this.selectionStoreConnector.setEdit(e?"":t.key)}canEdit(){var t;const e=this.selectionStore.focused;return e&&!(null===(t=this.columnService)||void 0===t?void 0:t.isReadOnly(e.y,e.x))}connectedCallback(){this.selectionStore=new Sn(this.lastCell,this.position,this.selectionStoreConnector),this.selectionService=new wn(this.parent+" .data-cell",{focus:(t,e)=>{this.selectionStore.focus(t,e)},range:(t,e)=>this.selectionStore.setRange(t,e),tempRange:(t,e)=>this.selectionStore.setTempRange(t,e),change:(t,e)=>this.selectionStore.change(t,e)})}disconnectedCallback(){this.selectionService.destroy(),this.selectionStore.destroy()}componentDidRender(){var t,e;(null===(t=this.selectionStore)||void 0===t?void 0:t.focused)&&document.activeElement!==this.focusSection&&(null===(e=this.focusSection)||void 0===e||e.focus({preventScroll:!0}))}render(){const t=this.selectionStore.store.get("range"),e=this.selectionStore.store.get("focus"),n=this.selectionStore.store.get("tempRange"),i=[];if(t){const e=this.getElStyle(t);i.push(r("div",{class:"selection-border-range",style:e}),r("div",{class:"selection-bg-range",style:e}))}if(n){const t=this.getElStyle(n);i.push(r("div",{class:"temp-bg-range",style:t}))}let o={};if(e&&(o=this.getElStyle({x:e.x,y:e.y,x1:e.x,y1:e.y}),i.push(r("div",{class:"focused-cell",style:o}))),i.push(r("input",{type:"text",class:"edit-focus-input",ref:t=>this.focusSection=t,style:o})),!this.readonly){const t=this.selectionStore.store.get("edit");i.push(r("revogr-edit",{onCloseEdit:()=>this.selectionStoreConnector.setEdit(!1),editCell:t&&Object.assign(Object.assign({},t),{val:t.val||this.columnService.getCellData(t.y,t.x)}),dimensionRow:this.dimensionRow,dimensionCol:this.dimensionCol}))}return i}getElStyle(t){const e=Xe(this.dimensionRow.state,t.y).start,n=Xe(this.dimensionCol.state,t.x).start,r=Xe(this.dimensionRow.state,t.y1).end;return{left:n+"px",top:e+"px",width:Xe(this.dimensionCol.state,t.x1).end-n+"px",height:r-e+"px"}}static get watchers(){return{lastCell:["lastCellChanged"]}}},Mn={contentSize:0,clientSize:0,virtualSize:0,maxSize:0};class kn{constructor(t){this.cfg=t,this.preventArtificialScroll={row:null,col:null},this.previousScroll={row:0,col:0},this.params={row:Object.assign({},Mn),col:Object.assign({},Mn)}}static getVirtualContentSize(t,e,n=0){return t+(n?e-n:0)}setParams(t,e){const n=kn.getVirtualContentSize(t.contentSize,t.clientSize,t.virtualSize);this.params[e]=Object.assign(Object.assign({},t),{maxSize:n-t.clientSize,virtualContentSize:n})}setScroll(t){this.cancelScroll(t.dimension),this.preventArtificialScroll[t.dimension]=window.requestAnimationFrame(()=>{const e=this.getParams(t.dimension);t.coordinate=Math.ceil(t.coordinate),this.previousScroll[t.dimension]=this.wrapCoordinate(t.coordinate,e),this.preventArtificialScroll[t.dimension]=null,this.cfg.afterScroll(Object.assign(Object.assign({},t),{coordinate:e.virtualSize?this.convert(t.coordinate,e,!1):t.coordinate}))})}scroll(t,e,n=!1){if(this.cancelScroll(e),!n&&this.previousScroll[e]===t)return void(this.previousScroll[e]=0);const r=this.getParams(e);this.cfg.beforeScroll({dimension:e,coordinate:r.virtualSize?this.convert(t,r):t})}getParams(t){return this.params[t]}wrapCoordinate(t,e){return t<0?0:t>e.maxSize?e.maxSize:t}cancelScroll(t){return"number"==typeof this.preventArtificialScroll[t]&&(window.cancelAnimationFrame(this.preventArtificialScroll[t]),this.preventArtificialScroll[t]=null,!0)}convert(t,e,n=!0){const r=[0,e.virtualContentSize-e.clientSize],i=[0,e.contentSize-e.virtualSize];return n?Le(t,r,i):Le(t,i,r)}}const _n=class{constructor(t){n(this,t),this.scrollVirtual=o(this,"scrollVirtual",7),this.scrollSize=0,this.dimension="row",this.contentSize=0,this.virtualSize=0}async setScroll(t){var e;this.dimension===t.dimension&&(null===(e=this.scrollService)||void 0===e||e.setScroll(t))}get extContentSize(){return kn.getVirtualContentSize(this.contentSize,this.size,this.virtualSize)}set size(t){"row"!==this.dimension?this.element.style.minHeight=t+"px":this.element.style.minWidth=t+"px"}get size(){return"row"===this.dimension?this.element.clientHeight:this.element.clientWidth}connectedCallback(){this.scrollService=new kn({beforeScroll:t=>this.scrollVirtual.emit(t),afterScroll:t=>{this.element["row"===t.dimension?"scrollTop":"scrollLeft"]=t.coordinate}})}componentWillLoad(){this.scrollSize=function(t){const e=t.createElement("div"),n=e.style;n.visibility="hidden",n.overflow="scroll",n.msOverflowStyle="scrollbar",t.body.appendChild(e);const r=t.createElement("div");e.appendChild(r);const i=e.offsetWidth-r.offsetWidth;return e.parentNode.removeChild(e),i}(document)}componentDidRender(){this.size=this.element["row"===this.dimension?"scrollHeight":"scrollWidth"]>this.size?this.scrollSize:0,this.scrollService.setParams({contentSize:this.contentSize,clientSize:this.size,virtualSize:this.virtualSize},this.dimension)}render(){return r(u,{onScroll:t=>{var e;null===(e=this.scrollService)||void 0===e||e.scroll(t.target["row"===this.dimension?"scrollTop":"scrollLeft"]||0,this.dimension)}},r("div",{style:{["row"===this.dimension?"height":"width"]:this.extContentSize+"px"}}))}get element(){return i(this)}},zn=class{constructor(t){n(this,t),this.edit=o(this,"edit",7)}componentDidRender(){this.editInput&&(this.editInput.value=this.value,setTimeout(()=>this.editInput.focus(),0))}render(){return r("input",{type:"text",ref:t=>{this.editInput=t},onKeyDown:t=>this.onKeyDown(t)})}onKeyDown(t){mn.ENTER===t.code&&t.target&&this.edit.emit(t.target.value)}};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});class En{constructor(t){this.cfg=t,this.elements=[]}onScroll(t,e){if(!this.isPinnedColumn(e)||"col"!==t.dimension){this.cfg.setViewport(t);for(let e of this.elements)null==e||e.setScroll(t)}}isPinnedColumn(t){return["colPinStart","colPinEnd"].indexOf(t)>-1}registerElements(t){this.elements=t}destroy(){}}const Cn={range:null,tempRange:null,focus:null,edit:null,lastCell:null};class Tn{constructor(){this.stores={},this.focusedStore=null}register(t,e){const n=Ee(Object.assign({},Cn));if(this.stores[t]||(this.stores[t]={}),this.stores[t][e])throw new Error("Store already registered.");return this.stores[t][e]=n,n}focus(t,e,n){let r;for(let a in this.stores)for(let e in this.stores[a]){const n=this.stores[a][e];n!==t?this.clearFocus(n):r={x:parseInt(e,10),y:parseInt(a,10)}}if(!r)throw new Error("Store not found");const i=t.get("lastCell"),o=function(t,e){const n={};let r=["x","y"];for(let i of r)if(t[i]<0)return n[i]=t[i],n;for(let i of r)if(t[i]>=e[i])return n[i]=t[i]-e[i],n;return null}(e,i);let u;if(o)for(let a in o){let t,e=a;switch(e){case"x":t=this.getXStores(r.y);break;case"y":t=this.getYStores(r.x)}if(o[e]>=0)u=t[++r[e]];else{u=t[--r[e]];const n=null==u?void 0:u.get("lastCell");n&&(o[e]=n[e]+o[e])}}if(u){let t=Object.assign(Object.assign({},e),o);this.focus(u,t,t)}else Ce(t,{focus:e=jn(e,i),range:On(e,jn(e,i)),edit:null,tempRange:null}),this.focusedStore=t}clearAll(){for(let t in this.stores)for(let e in this.stores[t])this.clearFocus(this.stores[t][e])}clearFocus(t){Ce(t,{focus:null,range:null,edit:null,tempRange:null})}setRange(t,e,n){Ce(t,{range:On(e,n),edit:null,tempRange:null})}get edit(){var t;return null===(t=this.focusedStore)||void 0===t?void 0:t.get("edit")}setEdit(t){if(!this.focusedStore)return;const e=this.focused;Ce(this.focusedStore,e&&"string"==typeof t?{edit:{x:e.x,y:e.y,val:t}}:{edit:null})}get focused(){var t;return null===(t=this.focusedStore)||void 0===t?void 0:t.get("focus")}change(t,e=!1){if(!this.focusedStore)return;const n=this.focusedStore.get("range"),r=this.focusedStore.get("focus");if(!n||!r)return;const i={x:n.x,y:n.y},o=e?{x:n.x1,y:n.y1}:i,u=e=>{(o[e]>r[e]?o:i)[e]+=t[e]};t.x&&u("x"),t.y&&u("y"),e?this.setRange(this.focusedStore,i,o):this.focus(this.focusedStore,i,i)}unregister(t){for(let e in this.stores)for(let n in this.stores[e])if(this.stores[e][n]===t){delete this.stores[e][n];break}t.dispose()}getXStores(t){return this.stores[t]}getYStores(t){const e={};for(let n in this.stores)e[n]=this.stores[n][t];return e}}const Pn=class{constructor(t){n(this,t),this.setDimensionSize=o(this,"setDimensionSize",7),this.setViewportCoordinate=o(this,"setViewportCoordinate",7),this.setViewportSize=o(this,"setViewportSize",7),this.elementToScroll=[],this.uuid=null}onRange(t){wn.canRange=t}handleOutsideClick(t){const e=t.target;(null==e?void 0:e.closest(`[${en}="${this.uuid}"]`))||this.selectionStoreConnector.clearAll()}connectedCallback(){this.selectionStoreConnector=new Tn,this.scrollingService=new En({setViewport:t=>this.setViewportCoordinate.emit(t)}),wn.canRange=this.range}disconnectedCallback(){this.scrollingService.destroy()}componentDidRender(){this.scrollingService.registerElements(this.elementToScroll)}render(){this.elementToScroll.length=0;const t=this.viewports.row.get("items"),e=this.viewports.col.get("items"),n=this.dimensions.row.get("realSize"),i=[this.pinnedColumnData("colPinStart",this.uuid+"-1",t,"colPinStart",{x:0,y:1},n),this.centerData("data-view",this.uuid+"-0",t,e,{x:1,y:1},n),this.pinnedColumnData("colPinEnd",this.uuid+"-2",t,"colPinEnd",{x:2,y:1},n)],o=[];for(let u of i){const t=[];let e=0;for(let n of u.dataPorts)t.push(r("revogr-data",Object.assign({},n,{selectionStoreConnector:this.selectionStoreConnector,key:u.prop.key+ ++e,readonly:this.readonly,range:this.range})));o.push(r("revogr-viewport-scroll",Object.assign({},u.prop,{ref:t=>this.elementToScroll.push(t),onScrollViewport:t=>this.scrollingService.onScroll(t.detail,u.prop.key)}),r("revogr-header",Object.assign({},u.headerProp,{slot:"header",canResize:this.resize})),t))}return r(u,Object.assign({},{[""+en]:this.uuid}),r("div",{class:"main-viewport"},r("div",{class:"viewports"},o,r("revogr-scroll-virtual",{class:"vertical",contentSize:n,ref:t=>this.elementToScroll.push(t),virtualSize:this.viewports.row.get("virtualSize"),onScrollVirtual:t=>this.scrollingService.onScroll(t.detail)}))),r("revogr-scroll-virtual",{class:"horizontal",dimension:"col",contentSize:this.dimensions.col.get("realSize"),ref:t=>this.elementToScroll.push(t),virtualSize:this.viewports.col.get("virtualSize"),onScrollVirtual:t=>this.scrollingService.onScroll(t.detail)}))}pinnedColumnData(t,e,n,r,i,o){const u=this.columnStores[r],a=this.viewports[r].get("items"),s=this.dimensions[r].get("realSize"),c=`[${en}="${e}"]`,l={contentWidth:s,style:{minWidth:s+"px"},class:t,[""+en]:e,contentHeight:o,key:t},f=u.get("items");return{prop:l,headerProp:{cols:a,parent:c,colData:f,dimensionCol:this.dimensions[r],groups:u.get("groups"),groupingDepth:u.get("groupingDepth"),onHeaderResize:t=>this.setDimensionSize.emit({type:r,sizes:t.detail})},parent:c,dataPorts:this.dataViewPort(n,a,f,r,i,e)}}centerData(t,e,n,r,i,o,u="col"){const a=`[${en}="${e}"]`,s=this.columnStores[u],c={contentWidth:this.dimensions[u].get("realSize"),class:t,[""+en]:e,onResizeViewport:t=>this.setViewportSize.emit(t.detail),contentHeight:o,key:t},l=s.get("items");return{prop:c,headerProp:{colData:l,cols:r,parent:a,dimensionCol:this.dimensions[u],groups:s.get("groups"),groupingDepth:s.get("groupingDepth"),onHeaderResize:t=>this.setDimensionSize.emit({type:u,sizes:t.detail})},parent:a,dataPorts:this.dataViewPort(n,r,l,u,i,e)}}dataViewPort(t,e,n,r,i,o){const u={colData:n,position:i,cols:e,rows:t,uuid:o,lastCell:this.getLastCell(r,"row"),dataStore:this.rowStores.row,slot:"content",dimensionCol:this.dimensions[r],dimensionRow:this.dimensions.row},a=(t,e,n)=>Object.assign(Object.assign({},u),{slot:e,dataStore:this.rowStores[t],rows:this.viewports[t].get("items"),dimensionRow:this.dimensions[t],lastCell:this.getLastCell(r,t),position:Object.assign(Object.assign({},i),{y:n}),style:{height:this.dimensions[t].get("realSize")+"px"}});return[a("rowPinStart","header",0),u,a("rowPinEnd","footer",u.position.y+1)]}getLastCell(t,e){return{x:this.viewports[t].get("realCount"),y:this.viewports[e].get("realCount")}}get element(){return i(this)}static get watchers(){return{range:["onRange"]}}};class Wn{constructor(t,e){this.events=e,this.resizeObserver=null,this.init(t)}async init(t){var e;if(!("ResizeObserver"in window)){const t=await __sc_import_revo_grid("./p-2c026177.js");window.ResizeObserver=t.ResizeObserver}this.resizeObserver=new ResizeObserver(async()=>{var t;null===(t=this.events)||void 0===t||t.resize()}),null===(e=this.resizeObserver)||void 0===e||e.observe(t)}destroy(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.resizeObserver=null}}const In=class{constructor(t){n(this,t),this.scrollViewport=o(this,"scrollViewport",7),this.resizeViewport=o(this,"resizeViewport",7),this.contentWidth=0,this.contentHeight=0,this.oldValY=this.contentHeight,this.oldValX=this.contentWidth}async setScroll(t){var e;null===(e=this.scrollService)||void 0===e||e.setScroll(t)}connectedCallback(){this.scrollService=new kn({beforeScroll:t=>this.scrollViewport.emit(t),afterScroll:t=>{switch(t.dimension){case"col":this.horizontalScroll.scrollLeft=t.coordinate;break;case"row":this.verticalScroll.scrollTop=t.coordinate}}})}componentDidLoad(){this.verticalMouseWheel=t=>{var e;t.preventDefault(),null===(e=this.scrollService)||void 0===e||e.scroll(this.verticalScroll.scrollTop+t.deltaY,"row")},this.horizontalMouseWheel=t=>{var e;t.preventDefault(),null===(e=this.scrollService)||void 0===e||e.scroll(this.horizontalScroll.scrollLeft+t.deltaX,"col")},this.gridResizeService=new Wn(this.horizontalScroll,{resize:()=>{xe({row:this.verticalScroll.clientHeight,col:this.horizontalScroll.clientWidth},(t,e)=>{var n;this.resizeViewport.emit({dimension:e,size:t}),null===(n=this.scrollService)||void 0===n||n.scroll(0,e,!0)})}}),this.verticalScroll.addEventListener("mousewheel",this.verticalMouseWheel),this.horizontalScroll.addEventListener("mousewheel",this.horizontalMouseWheel)}disconnectedCallback(){this.verticalScroll.removeEventListener("mousewheel",this.verticalMouseWheel),this.horizontalScroll.removeEventListener("mousewheel",this.horizontalMouseWheel),this.gridResizeService.destroy()}async componentDidRender(){this.contentHeight<this.oldValY&&this.verticalScroll&&(this.verticalScroll.scrollTop+=this.contentHeight-this.oldValY),this.oldValY=this.contentHeight,this.contentWidth<this.oldValX&&(this.horizontalScroll.scrollLeft+=this.contentWidth-this.oldValX),this.oldValX=this.contentWidth,this.scrollService.setParams({contentSize:this.contentHeight,clientSize:this.verticalScroll.clientHeight,virtualSize:0},"row"),this.scrollService.setParams({contentSize:this.contentWidth,clientSize:this.horizontalScroll.clientWidth,virtualSize:0},"col")}render(){return r("div",{class:"inner-content-table",style:{width:this.contentWidth+"px"}},r("div",{class:"header-wrapper"},r("slot",{name:"header"})),r("div",{class:"vertical-inner",ref:t=>{this.verticalScroll=t}},r("div",{class:"content-wrapper",style:{height:this.contentHeight+"px"}},r("slot",{name:"content"}))),r("div",{class:"footer-wrapper"},r("slot",{name:"footer"})))}get horizontalScroll(){return i(this)}};export{Ze as revo_grid,nn as revogr_data,rn as revogr_edit,bn as revogr_header,xn as revogr_overlay_selection,_n as revogr_scroll_virtual,zn as revogr_text_editor,Pn as revogr_viewport,In as revogr_viewport_scroll}